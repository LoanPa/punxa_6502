                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.10 #15691 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module mbrtoc16
                                      6 	
      000000                          7 	.r65c02
                                      8 	.optsdcc -mmos65c02
                                      9 
                                     10 ;--------------------------------------------------------
                                     11 ;  Ordering of segments for the linker.
                                     12 ;--------------------------------------------------------
                                     13 	.area ZP      (PAG)
                                     14 	.area OSEG    (PAG, OVR)
                                     15 	.area _CODE
                                     16 	.area GSINIT
                                     17 	.area GSFINAL
                                     18 	.area CODE
                                     19 	.area RODATA
                                     20 	.area XINIT
                                     21 	.area _DATA
                                     22 	.area DATA
                                     23 	.area BSS
                                     24 ;--------------------------------------------------------
                                     25 ; Public variables in this module
                                     26 ;--------------------------------------------------------
                                     27 	.globl _mbrtowc
                                     28 	.globl _mbrtoc16_PARM_4
                                     29 	.globl _mbrtoc16_PARM_3
                                     30 	.globl _mbrtoc16_PARM_2
                                     31 	.globl _mbrtoc16
                                     32 ;--------------------------------------------------------
                                     33 ; ZP ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area ZP      (PAG)
      000000                         36 _mbrtoc16_sloc0_1_0:
      000000                         37 	.ds 2
      000002                         38 _mbrtoc16_sloc1_1_0:
      000002                         39 	.ds 4
                                     40 ;--------------------------------------------------------
                                     41 ; overlayable items in ram
                                     42 ;--------------------------------------------------------
                                     43 ;--------------------------------------------------------
                                     44 ; uninitialized external ram data
                                     45 ;--------------------------------------------------------
                                     46 	.area BSS
      000000                         47 _mbrtoc16_PARM_2:
      000000                         48 	.ds 2
      000002                         49 _mbrtoc16_PARM_3:
      000002                         50 	.ds 2
      000004                         51 _mbrtoc16_PARM_4:
      000004                         52 	.ds 2
      000006                         53 _mbrtoc16_pc16_10000_21:
      000006                         54 	.ds 2
      000008                         55 _mbrtoc16_codepoint_10000_22:
      000008                         56 	.ds 4
      00000C                         57 _mbrtoc16_ret_10000_22:
      00000C                         58 	.ds 2
      00000E                         59 _mbrtoc16_sps_10000_22:
      00000E                         60 	.ds 3
      000011                         61 _mbrtoc16_low_surrogate_10000_22:
      000011                         62 	.ds 2
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area DABS    (ABS)
                                     67 ;--------------------------------------------------------
                                     68 ; initialized external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area DATA
                                     71 ;--------------------------------------------------------
                                     72 ; global & static initialisations
                                     73 ;--------------------------------------------------------
                                     74 	.area _CODE
                                     75 	.area GSINIT
                                     76 	.area GSFINAL
                                     77 	.area GSINIT
                                     78 ;--------------------------------------------------------
                                     79 ; Home
                                     80 ;--------------------------------------------------------
                                     81 	.area _CODE
                                     82 	.area _CODE
                                     83 ;--------------------------------------------------------
                                     84 ; code
                                     85 ;--------------------------------------------------------
                                     86 	.area CODE
                                     87 ;------------------------------------------------------------
                                     88 ;Allocation info for local variables in function 'mbrtoc16'
                                     89 ;------------------------------------------------------------
                                     90 ;sloc0         Allocated with name '_mbrtoc16_sloc0_1_0'
                                     91 ;sloc1         Allocated with name '_mbrtoc16_sloc1_1_0'
                                     92 ;s             Allocated with name '_mbrtoc16_PARM_2'
                                     93 ;n             Allocated with name '_mbrtoc16_PARM_3'
                                     94 ;ps            Allocated with name '_mbrtoc16_PARM_4'
                                     95 ;pc16          Allocated with name '_mbrtoc16_pc16_10000_21'
                                     96 ;codepoint     Allocated with name '_mbrtoc16_codepoint_10000_22'
                                     97 ;ret           Allocated with name '_mbrtoc16_ret_10000_22'
                                     98 ;sps           Allocated with name '_mbrtoc16_sps_10000_22'
                                     99 ;low_surrogate Allocated with name '_mbrtoc16_low_surrogate_10000_22'
                                    100 ;------------------------------------------------------------
                                    101 ;	../mbrtoc16.c: 34: size_t mbrtoc16(char16_t *restrict pc16, const char *restrict s, size_t n, mbstate_t *restrict ps)
                                    102 ;	genLabel
                                    103 ;	Raw cost for generated ic 0 : (0, 0.000000) count=1.000000
                                    104 ;	-----------------------------------------
                                    105 ;	 function mbrtoc16
                                    106 ;	-----------------------------------------
                                    107 ;	Register assignment is optimal.
                                    108 ;	Stack space usage: 0 bytes.
      000000                        109 _mbrtoc16:
                                    110 ;	Raw cost for generated ic 1 : (0, 0.000000) count=1.000000
                                    111 ;	genReceive
      000000 8Dr06r00         [ 4]  112 	sta	_mbrtoc16_pc16_10000_21
      000003 8Er07r00         [ 4]  113 	stx	(_mbrtoc16_pc16_10000_21 + 1)
                                    114 ;	Raw cost for generated ic 2 : (6, 8.000000) count=1.000000
                                    115 ;	../mbrtoc16.c: 41: if(!s)
                                    116 ;	genIfx
      000006 ADr01r00         [ 4]  117 	lda	(_mbrtoc16_PARM_2 + 1)
      000009 0Dr00r00         [ 4]  118 	ora	_mbrtoc16_PARM_2
                                    119 ;	genIfxJump : z
      00000C D0 17            [ 4]  120 	bne	00102$
                                    121 ;	Raw cost for generated ic 3 : (11, 13.600000) count=1.000000
                                    122 ;	../mbrtoc16.c: 42: return(mbrtoc16(0, "", 1, ps));
                                    123 ;	skipping iCode since result will be rematerialized
                                    124 ;	Raw cost for generated ic 6 : (0, 0.000000) count=0.750000
                                    125 ;	genCast
                                    126 ;	genCopy
      00000E A9s00            [ 2]  127 	lda	#>___str_0
      000010 8Dr01r00         [ 4]  128 	sta	(_mbrtoc16_PARM_2 + 1)
      000013 A9r00            [ 2]  129 	lda	#___str_0
      000015 8Dr00r00         [ 4]  130 	sta	_mbrtoc16_PARM_2
                                    131 ;	Raw cost for generated ic 7 : (10, 12.000000) count=0.750000
                                    132 ;	genAssign
                                    133 ;	genAssignLit
      000018 A2 01            [ 2]  134 	ldx	#0x01
      00001A 8Er02r00         [ 4]  135 	stx	_mbrtoc16_PARM_3
      00001D 9Cr03r00         [ 4]  136 	stz	(_mbrtoc16_PARM_3 + 1)
                                    137 ;	Raw cost for generated ic 10 : (8, 10.000000) count=0.750000
                                    138 ;	Raw cost for generated ic 8 : (0, 0.000000) count=0.750000
                                    139 ;	genCall
                                    140 ;	genSend
      000020 CA               [ 2]  141 	dex
      000021 8A               [ 2]  142 	txa
                                    143 ;	assignResultValue
                                    144 ;	Raw cost for generated ic 12 : (5, 10.000000) count=0.750000
                                    145 ;	genRet
      000022 4Cr00r00         [ 3]  146 	jmp	_mbrtoc16
                                    147 ;	Raw cost for generated ic 13 : (3, 3.000000) count=0.750000
                                    148 ;	genLabel
      000025                        149 00102$:
                                    150 ;	Raw cost for generated ic 14 : (0, 0.000000) count=1.000000
                                    151 ;	../mbrtoc16.c: 44: if(!ps)
                                    152 ;	genIfx
      000025 ADr05r00         [ 4]  153 	lda	(_mbrtoc16_PARM_4 + 1)
      000028 0Dr04r00         [ 4]  154 	ora	_mbrtoc16_PARM_4
                                    155 ;	genIfxJump : z
      00002B D0 0A            [ 4]  156 	bne	00104$
                                    157 ;	Raw cost for generated ic 15 : (11, 13.600000) count=1.000000
                                    158 ;	../mbrtoc16.c: 45: ps = &sps;
                                    159 ;	skipping iCode since result will be rematerialized
                                    160 ;	Raw cost for generated ic 18 : (0, 0.000000) count=0.750000
                                    161 ;	genCast
                                    162 ;	genCopy
      00002D A9s00            [ 2]  163 	lda	#>_mbrtoc16_sps_10000_22
      00002F 8Dr05r00         [ 4]  164 	sta	(_mbrtoc16_PARM_4 + 1)
      000032 A9r0E            [ 2]  165 	lda	#_mbrtoc16_sps_10000_22
      000034 8Dr04r00         [ 4]  166 	sta	_mbrtoc16_PARM_4
                                    167 ;	Raw cost for generated ic 19 : (10, 12.000000) count=0.750000
                                    168 ;	genLabel
      000037                        169 00104$:
                                    170 ;	Raw cost for generated ic 21 : (0, 0.000000) count=1.000000
                                    171 ;	../mbrtoc16.c: 47: if(!ps->c[0] && (ps->c[1] || ps->c[2]))
                                    172 ;	genAssign
                                    173 ;	genCopy
      000037 AEr05r00         [ 4]  174 	ldx	(_mbrtoc16_PARM_4 + 1)
      00003A ADr04r00         [ 4]  175 	lda	_mbrtoc16_PARM_4
                                    176 ;	Raw cost for generated ic 22 : (6, 8.000000) count=1.000000
                                    177 ;	genPointerGet
                                    178 ;	  setupDPTR - off=0 remat=(null) savea=0
      00003D 85*00            [ 3]  179 	sta	*(DPTR+0)
      00003F 86*01            [ 3]  180 	stx	*(DPTR+1)
      000041 A0 00            [ 2]  181 	ldy	#0x00
      000043 B1*00            [ 6]  182 	lda	[DPTR],y
      000045 A8               [ 2]  183 	tay
      000046 A5*00            [ 3]  184 	lda	*(DPTR+0)
                                    185 ;	Raw cost for generated ic 25 : (11, 18.000000) count=1.000000
                                    186 ;	genIfx
      000048 C0 00            [ 2]  187 	cpy	#0x00
                                    188 ;	genIfxJump : z
      00004A D0 78            [ 4]  189 	bne	00108$
                                    190 ;	Raw cost for generated ic 26 : (7, 7.600000) count=1.000000
                                    191 ;	genAssign
                                    192 ;	genCopy
      00004C 85*00            [ 3]  193 	sta	*_mbrtoc16_sloc0_1_0
      00004E 86*01            [ 3]  194 	stx	*(_mbrtoc16_sloc0_1_0 + 1)
                                    195 ;	Raw cost for generated ic 31 : (4, 6.000000) count=0.750000
                                    196 ;	genPointerGet
      000050 A0 01            [ 2]  197 	ldy	#0x01
      000052 B1*00            [ 6]  198 	lda	[*_mbrtoc16_sloc0_1_0],y
      000054 A8               [ 2]  199 	tay
      000055 A5*00            [ 3]  200 	lda	*(_mbrtoc16_sloc0_1_0+0)
                                    201 ;	Raw cost for generated ic 32 : (8, 13.000000) count=0.750000
                                    202 ;	genIfx
      000057 C0 00            [ 2]  203 	cpy	#0x00
                                    204 ;	genIfxJump : z
      000059 D0 0A            [ 4]  205 	bne	00107$
                                    206 ;	Raw cost for generated ic 33 : (7, 7.600000) count=0.750000
                                    207 ;	genAssign
                                    208 ;	genCopy
                                    209 ;	Raw cost for generated ic 38 : (0, 0.000000) count=0.562500
                                    210 ;	genPointerGet
                                    211 ;	  setupDPTR - off=2 remat=(null) savea=0
      00005B 85*00            [ 3]  212 	sta	*(DPTR+0)
      00005D 86*01            [ 3]  213 	stx	*(DPTR+1)
      00005F A0 02            [ 2]  214 	ldy	#0x02
      000061 B1*00            [ 6]  215 	lda	[DPTR],y
                                    216 ;	Raw cost for generated ic 39 : (8, 13.000000) count=0.562500
                                    217 ;	genIfx
                                    218 ;	genIfxJump : z
      000063 F0 5F            [ 4]  219 	beq	00108$
                                    220 ;	Raw cost for generated ic 40 : (5, 5.600000) count=0.562500
                                    221 ;	genLabel
      000065                        222 00107$:
                                    223 ;	Raw cost for generated ic 42 : (0, 0.000000) count=0.609375
                                    224 ;	../mbrtoc16.c: 49: if(pc16)
                                    225 ;	genIfx
      000065 ADr07r00         [ 4]  226 	lda	(_mbrtoc16_pc16_10000_21 + 1)
      000068 0Dr06r00         [ 4]  227 	ora	_mbrtoc16_pc16_10000_21
                                    228 ;	genIfxJump : z
      00006B F0 3F            [ 4]  229 	beq	00106$
                                    230 ;	Raw cost for generated ic 43 : (11, 13.600000) count=0.609375
                                    231 ;	../mbrtoc16.c: 50: *pc16 = ps->c[1] + (ps->c[2] << 8);
                                    232 ;	genAssign
                                    233 ;	genCopy
      00006D AEr05r00         [ 4]  234 	ldx	(_mbrtoc16_PARM_4 + 1)
      000070 ADr04r00         [ 4]  235 	lda	_mbrtoc16_PARM_4
                                    236 ;	Raw cost for generated ic 47 : (6, 8.000000) count=0.457031
                                    237 ;	genAssign
                                    238 ;	genCopy
      000073 85*00            [ 3]  239 	sta	*_mbrtoc16_sloc0_1_0
      000075 86*01            [ 3]  240 	stx	*(_mbrtoc16_sloc0_1_0 + 1)
                                    241 ;	Raw cost for generated ic 49 : (4, 6.000000) count=0.457031
                                    242 ;	genPointerGet
      000077 A0 01            [ 2]  243 	ldy	#0x01
      000079 B1*00            [ 6]  244 	lda	[*_mbrtoc16_sloc0_1_0],y
      00007B A8               [ 2]  245 	tay
      00007C A5*00            [ 3]  246 	lda	*(_mbrtoc16_sloc0_1_0+0)
                                    247 ;	Raw cost for generated ic 50 : (8, 13.000000) count=0.457031
                                    248 ;	genCast
                                    249 ;	genCopy
      00007E 64*01            [ 3]  250 	stz	*(_mbrtoc16_sloc0_1_0 + 1)
      000080 84*00            [ 3]  251 	sty	*_mbrtoc16_sloc0_1_0
                                    252 ;	Raw cost for generated ic 51 : (5, 7.000000) count=0.457031
                                    253 ;	genAssign
                                    254 ;	genCopy
                                    255 ;	Raw cost for generated ic 54 : (0, 0.000000) count=0.457031
                                    256 ;	genPointerGet
                                    257 ;	  setupDPTR - off=2 remat=(null) savea=0
      000082 85*00            [ 3]  258 	sta	*(DPTR+0)
      000084 86*01            [ 3]  259 	stx	*(DPTR+1)
      000086 A0 02            [ 2]  260 	ldy	#0x02
      000088 B1*00            [ 6]  261 	lda	[DPTR],y
                                    262 ;	Raw cost for generated ic 55 : (8, 13.000000) count=0.457031
                                    263 ;	genCast
                                    264 ;	genCopy
                                    265 ;	Raw cost for generated ic 56 : (2, 2.000000) count=0.457031
                                    266 ;	genLeftShift
                                    267 ;	genLeftShiftLiteral
                                    268 ;	  genlsh16 - shift=8
      00008A AA               [ 2]  269 	tax
      00008B A9 00            [ 2]  270 	lda	#0x00
                                    271 ;	Raw cost for generated ic 57 : (3, 4.000000) count=0.457031
                                    272 ;	genPlus
      00008D 18               [ 2]  273 	clc
      00008E 65*00            [ 4]  274 	adc	*_mbrtoc16_sloc0_1_0
      000090 48               [ 3]  275 	pha
      000091 8A               [ 2]  276 	txa
      000092 65*01            [ 4]  277 	adc	*(_mbrtoc16_sloc0_1_0 + 1)
      000094 AA               [ 2]  278 	tax
      000095 68               [ 4]  279 	pla
                                    280 ;	Raw cost for generated ic 58 : (9, 19.000000) count=0.457031
                                    281 ;	genPointerSet
      000096 85*00            [ 3]  282 	sta	*(REGTEMP+0)
                                    283 ;	  setupDPTR - off=0 remat=(null) savea=0
      000098 ADr06r00         [ 4]  284 	lda	_mbrtoc16_pc16_10000_21
      00009B 85*00            [ 3]  285 	sta	*(DPTR+0)
      00009D ADr07r00         [ 4]  286 	lda	(_mbrtoc16_pc16_10000_21 + 1)
      0000A0 85*01            [ 3]  287 	sta	*(DPTR+1)
      0000A2 A5*00            [ 3]  288 	lda	*(REGTEMP+0)
      0000A4 A0 00            [ 2]  289 	ldy	#0x00
      0000A6 91*00            [ 6]  290 	sta	[DPTR],y
      0000A8 8A               [ 2]  291 	txa
      0000A9 C8               [ 2]  292 	iny
      0000AA 91*00            [ 6]  293 	sta	[DPTR],y
                                    294 ;	Raw cost for generated ic 59 : (22, 38.000000) count=0.457031
                                    295 ;	genLabel
      0000AC                        296 00106$:
                                    297 ;	Raw cost for generated ic 60 : (0, 0.000000) count=0.609375
                                    298 ;	../mbrtoc16.c: 51: ps->c[1] = ps->c[2] = 0;
                                    299 ;	genAssign
                                    300 ;	genCopy
      0000AC AEr05r00         [ 4]  301 	ldx	(_mbrtoc16_PARM_4 + 1)
      0000AF ADr04r00         [ 4]  302 	lda	_mbrtoc16_PARM_4
                                    303 ;	Raw cost for generated ic 61 : (6, 8.000000) count=0.609375
                                    304 ;	genAssign
                                    305 ;	genCopy
      0000B2 85*00            [ 3]  306 	sta	*_mbrtoc16_sloc0_1_0
      0000B4 86*01            [ 3]  307 	stx	*(_mbrtoc16_sloc0_1_0 + 1)
                                    308 ;	Raw cost for generated ic 63 : (4, 6.000000) count=0.609375
                                    309 ;	genAssign
                                    310 ;	genCopy
                                    311 ;	Raw cost for generated ic 66 : (0, 0.000000) count=0.609375
                                    312 ;	genPointerSet
      0000B6 A9 00            [ 2]  313 	lda	#0x00
      0000B8 A0 02            [ 2]  314 	ldy	#0x02
      0000BA 91*00            [ 6]  315 	sta	[_mbrtoc16_sloc0_1_0],y
                                    316 ;	Raw cost for generated ic 67 : (6, 10.000000) count=0.609375
                                    317 ;	genPointerSet
      0000BC 88               [ 2]  318 	dey
      0000BD 91*00            [ 6]  319 	sta	[*_mbrtoc16_sloc0_1_0],y
                                    320 ;	Raw cost for generated ic 68 : (3, 8.000000) count=0.609375
                                    321 ;	../mbrtoc16.c: 52: return(-3);
                                    322 ;	genRet
      0000BF A9 FD            [ 2]  323 	lda	#0xfd
      0000C1 A2 FF            [ 2]  324 	ldx	#0xff
      0000C3 60               [ 6]  325 	rts
                                    326 ;	Raw cost for generated ic 69 : (7, 7.000000) count=0.609375
                                    327 ;	genLabel
      0000C4                        328 00108$:
                                    329 ;	Raw cost for generated ic 70 : (0, 0.000000) count=1.000000
                                    330 ;	../mbrtoc16.c: 55: ret = mbrtowc(&codepoint, s, n, ps);
                                    331 ;	skipping iCode since result will be rematerialized
                                    332 ;	Raw cost for generated ic 71 : (0, 0.000000) count=1.000000
                                    333 ;	skipping iCode since result will be rematerialized
                                    334 ;	Raw cost for generated ic 72 : (0, 0.000000) count=1.000000
                                    335 ;	genAssign
                                    336 ;	genCopy
      0000C4 ADr01r00         [ 4]  337 	lda	(_mbrtoc16_PARM_2 + 1)
      0000C7 8Dr01r00         [ 4]  338 	sta	(_mbrtowc_PARM_2 + 1)
      0000CA ADr00r00         [ 4]  339 	lda	_mbrtoc16_PARM_2
      0000CD 8Dr00r00         [ 4]  340 	sta	_mbrtowc_PARM_2
                                    341 ;	Raw cost for generated ic 74 : (12, 16.000000) count=1.000000
                                    342 ;	genAssign
                                    343 ;	genCopy
      0000D0 ADr03r00         [ 4]  344 	lda	(_mbrtoc16_PARM_3 + 1)
      0000D3 8Dr01r00         [ 4]  345 	sta	(_mbrtowc_PARM_3 + 1)
      0000D6 ADr02r00         [ 4]  346 	lda	_mbrtoc16_PARM_3
      0000D9 8Dr00r00         [ 4]  347 	sta	_mbrtowc_PARM_3
                                    348 ;	Raw cost for generated ic 75 : (12, 16.000000) count=1.000000
                                    349 ;	genAssign
                                    350 ;	genCopy
      0000DC ADr05r00         [ 4]  351 	lda	(_mbrtoc16_PARM_4 + 1)
      0000DF 8Dr01r00         [ 4]  352 	sta	(_mbrtowc_PARM_4 + 1)
      0000E2 ADr04r00         [ 4]  353 	lda	_mbrtoc16_PARM_4
      0000E5 8Dr00r00         [ 4]  354 	sta	_mbrtowc_PARM_4
                                    355 ;	Raw cost for generated ic 76 : (12, 16.000000) count=1.000000
                                    356 ;	Raw cost for generated ic 73 : (0, 0.000000) count=1.000000
                                    357 ;	genCall
                                    358 ;	genSend
      0000E8 A2s00            [ 2]  359 	ldx	#>_mbrtoc16_codepoint_10000_22
      0000EA A9r08            [ 2]  360 	lda	#_mbrtoc16_codepoint_10000_22
      0000EC 20r00r00         [ 6]  361 	jsr	_mbrtowc
                                    362 ;	assignResultValue
      0000EF 8Dr0Cr00         [ 4]  363 	sta	_mbrtoc16_ret_10000_22
      0000F2 8Er0Dr00         [ 4]  364 	stx	(_mbrtoc16_ret_10000_22 + 1)
                                    365 ;	Raw cost for generated ic 77 : (13, 18.000000) count=1.000000
                                    366 ;	../mbrtoc16.c: 57: if(ret > MB_LEN_MAX)
                                    367 ;	genCmp
      0000F5 A9 04            [ 2]  368 	lda	#0x04
      0000F7 38               [ 2]  369 	sec
      0000F8 EDr0Cr00         [ 5]  370 	sbc	_mbrtoc16_ret_10000_22
      0000FB A9 00            [ 2]  371 	lda	#0x00
      0000FD EDr0Dr00         [ 5]  372 	sbc	(_mbrtoc16_ret_10000_22 + 1)
      000100 B0 04            [ 4]  373 	bcs	00112$
                                    374 ;	Raw cost for generated ic 79 : (16, 19.600000) count=1.000000
                                    375 ;	skipping generated iCode
                                    376 ;	Raw cost for generated ic 80 : (0, 0.000000) count=1.000000
                                    377 ;	../mbrtoc16.c: 58: return(ret);
                                    378 ;	genRet
      000102 ADr0Cr00         [ 4]  379 	lda	_mbrtoc16_ret_10000_22
      000105 60               [ 6]  380 	rts
                                    381 ;	Raw cost for generated ic 83 : (6, 7.000000) count=0.750000
                                    382 ;	genLabel
      000106                        383 00112$:
                                    384 ;	Raw cost for generated ic 84 : (0, 0.000000) count=1.000000
                                    385 ;	../mbrtoc16.c: 60: if (codepoint <= 0xffff) // Basic multilingual plane
                                    386 ;	genCmp
      000106 A9 FF            [ 2]  387 	lda	#0xff
      000108 38               [ 2]  388 	sec
      000109 EDr08r00         [ 5]  389 	sbc	_mbrtoc16_codepoint_10000_22
      00010C A9 FF            [ 2]  390 	lda	#0xff
      00010E EDr09r00         [ 5]  391 	sbc	(_mbrtoc16_codepoint_10000_22 + 1)
      000111 A9 00            [ 2]  392 	lda	#0x00
      000113 EDr0Ar00         [ 5]  393 	sbc	(_mbrtoc16_codepoint_10000_22 + 2)
      000116 A9 00            [ 2]  394 	lda	#0x00
      000118 EDr0Br00         [ 5]  395 	sbc	(_mbrtoc16_codepoint_10000_22 + 3)
      00011B 90 2B            [ 4]  396 	bcc	00116$
                                    397 ;	Raw cost for generated ic 85 : (26, 31.600000) count=1.000000
                                    398 ;	skipping generated iCode
                                    399 ;	Raw cost for generated ic 86 : (0, 0.000000) count=1.000000
                                    400 ;	../mbrtoc16.c: 62: if(pc16)
                                    401 ;	genIfx
      00011D ADr07r00         [ 4]  402 	lda	(_mbrtoc16_pc16_10000_21 + 1)
      000120 0Dr06r00         [ 4]  403 	ora	_mbrtoc16_pc16_10000_21
                                    404 ;	genIfxJump : z
      000123 F0 1C            [ 4]  405 	beq	00114$
                                    406 ;	Raw cost for generated ic 89 : (11, 13.600000) count=0.750000
                                    407 ;	../mbrtoc16.c: 63: *pc16 = codepoint;
                                    408 ;	genCast
                                    409 ;	genCopy
      000125 AEr09r00         [ 4]  410 	ldx	(_mbrtoc16_codepoint_10000_22 + 1)
      000128 ADr08r00         [ 4]  411 	lda	_mbrtoc16_codepoint_10000_22
                                    412 ;	Raw cost for generated ic 93 : (6, 8.000000) count=0.562500
                                    413 ;	genPointerSet
      00012B 85*00            [ 3]  414 	sta	*(REGTEMP+0)
                                    415 ;	  setupDPTR - off=0 remat=(null) savea=0
      00012D ADr06r00         [ 4]  416 	lda	_mbrtoc16_pc16_10000_21
      000130 85*00            [ 3]  417 	sta	*(DPTR+0)
      000132 ADr07r00         [ 4]  418 	lda	(_mbrtoc16_pc16_10000_21 + 1)
      000135 85*01            [ 3]  419 	sta	*(DPTR+1)
      000137 A5*00            [ 3]  420 	lda	*(REGTEMP+0)
      000139 A0 00            [ 2]  421 	ldy	#0x00
      00013B 91*00            [ 6]  422 	sta	[DPTR],y
      00013D 8A               [ 2]  423 	txa
      00013E C8               [ 2]  424 	iny
      00013F 91*00            [ 6]  425 	sta	[DPTR],y
                                    426 ;	Raw cost for generated ic 94 : (22, 38.000000) count=0.562500
                                    427 ;	genLabel
      000141                        428 00114$:
                                    429 ;	Raw cost for generated ic 95 : (0, 0.000000) count=0.750000
                                    430 ;	../mbrtoc16.c: 64: return(ret);
                                    431 ;	genRet
      000141 AEr0Dr00         [ 4]  432 	ldx	(_mbrtoc16_ret_10000_22 + 1)
      000144 ADr0Cr00         [ 4]  433 	lda	_mbrtoc16_ret_10000_22
      000147 60               [ 6]  434 	rts
                                    435 ;	Raw cost for generated ic 96 : (9, 11.000000) count=0.750000
                                    436 ;	genLabel
      000148                        437 00116$:
                                    438 ;	Raw cost for generated ic 97 : (0, 0.000000) count=1.000000
                                    439 ;	../mbrtoc16.c: 67: codepoint -= 0x100000;
                                    440 ;	genMinus
                                    441 ;	  genMinusDec - size=4  icount=1048576
      000148 ADr08r00         [ 4]  442 	lda	_mbrtoc16_codepoint_10000_22
      00014B 38               [ 2]  443 	sec
      00014C E9 00            [ 3]  444 	sbc	#0x00
      00014E 8Dr08r00         [ 4]  445 	sta	_mbrtoc16_codepoint_10000_22
      000151 ADr09r00         [ 4]  446 	lda	(_mbrtoc16_codepoint_10000_22 + 1)
      000154 E9 00            [ 3]  447 	sbc	#0x00
      000156 8Dr09r00         [ 4]  448 	sta	(_mbrtoc16_codepoint_10000_22 + 1)
      000159 ADr0Ar00         [ 4]  449 	lda	(_mbrtoc16_codepoint_10000_22 + 2)
      00015C E9 10            [ 3]  450 	sbc	#0x10
      00015E 8Dr0Ar00         [ 4]  451 	sta	(_mbrtoc16_codepoint_10000_22 + 2)
      000161 ADr0Br00         [ 4]  452 	lda	(_mbrtoc16_codepoint_10000_22 + 3)
      000164 E9 00            [ 3]  453 	sbc	#0x00
      000166 8Dr0Br00         [ 4]  454 	sta	(_mbrtoc16_codepoint_10000_22 + 3)
                                    455 ;	Raw cost for generated ic 98 : (33, 42.000000) count=1.000000
                                    456 ;	../mbrtoc16.c: 68: if(pc16)
                                    457 ;	genIfx
      000169 ADr07r00         [ 4]  458 	lda	(_mbrtoc16_pc16_10000_21 + 1)
      00016C 0Dr06r00         [ 4]  459 	ora	_mbrtoc16_pc16_10000_21
                                    460 ;	genIfxJump : z
      00016F F0 46            [ 4]  461 	beq	00118$
                                    462 ;	Raw cost for generated ic 100 : (11, 13.600000) count=1.000000
                                    463 ;	../mbrtoc16.c: 69: *pc16 = ((codepoint >> 10) & 0x3ff) + 0xd800;
                                    464 ;	genRightShift
                                    465 ;	genRightShiftLiteral
                                    466 ;	  genrsh32 - shift=10
      000171 ADr0Br00         [ 4]  467 	lda	(_mbrtoc16_codepoint_10000_22 + 3)
      000174 4A               [ 2]  468 	lsr	a
      000175 85*04            [ 3]  469 	sta	*(_mbrtoc16_sloc1_1_0 + 2)
      000177 ADr0Ar00         [ 4]  470 	lda	(_mbrtoc16_codepoint_10000_22 + 2)
      00017A 6A               [ 2]  471 	ror	a
      00017B 85*03            [ 3]  472 	sta	*(_mbrtoc16_sloc1_1_0 + 1)
      00017D ADr09r00         [ 4]  473 	lda	(_mbrtoc16_codepoint_10000_22 + 1)
      000180 6A               [ 2]  474 	ror	a
      000181 85*02            [ 3]  475 	sta	*_mbrtoc16_sloc1_1_0
      000183 A5*04            [ 3]  476 	lda	*(_mbrtoc16_sloc1_1_0 + 2)
      000185 4A               [ 2]  477 	lsr	a
      000186 66*03            [ 5]  478 	ror	*(_mbrtoc16_sloc1_1_0 + 1)
      000188 66*02            [ 5]  479 	ror	*_mbrtoc16_sloc1_1_0
      00018A 85*04            [ 3]  480 	sta	*(_mbrtoc16_sloc1_1_0 + 2)
      00018C 64*05            [ 3]  481 	stz	*(_mbrtoc16_sloc1_1_0 + 3)
                                    482 ;	Raw cost for generated ic 104 : (30, 49.000000) count=0.750000
                                    483 ;	genCast
                                    484 ;	genCopy
      00018E A6*03            [ 3]  485 	ldx	*(_mbrtoc16_sloc1_1_0 + 1)
      000190 A5*02            [ 3]  486 	lda	*_mbrtoc16_sloc1_1_0
                                    487 ;	Raw cost for generated ic 135 : (4, 6.000000) count=0.750000
                                    488 ;	genAnd
      000192 85*00            [ 3]  489 	sta	*(REGTEMP+0)
      000194 8A               [ 2]  490 	txa
      000195 29 03            [ 2]  491 	and	#0x03
      000197 AA               [ 2]  492 	tax
      000198 A5*00            [ 3]  493 	lda	*(REGTEMP+0)
                                    494 ;	Raw cost for generated ic 105 : (8, 12.000000) count=0.750000
                                    495 ;	genPlus
                                    496 ;	  genPlusInc
      00019A 18               [ 2]  497 	clc
      00019B 48               [ 3]  498 	pha
      00019C 8A               [ 2]  499 	txa
      00019D 69 D8            [ 3]  500 	adc	#0xd8
      00019F AA               [ 2]  501 	tax
      0001A0 68               [ 4]  502 	pla
                                    503 ;	Raw cost for generated ic 106 : (7, 15.000000) count=0.750000
                                    504 ;	genPointerSet
      0001A1 85*00            [ 3]  505 	sta	*(REGTEMP+0)
                                    506 ;	  setupDPTR - off=0 remat=(null) savea=0
      0001A3 ADr06r00         [ 4]  507 	lda	_mbrtoc16_pc16_10000_21
      0001A6 85*00            [ 3]  508 	sta	*(DPTR+0)
      0001A8 ADr07r00         [ 4]  509 	lda	(_mbrtoc16_pc16_10000_21 + 1)
      0001AB 85*01            [ 3]  510 	sta	*(DPTR+1)
      0001AD A5*00            [ 3]  511 	lda	*(REGTEMP+0)
      0001AF A0 00            [ 2]  512 	ldy	#0x00
      0001B1 91*00            [ 6]  513 	sta	[DPTR],y
      0001B3 8A               [ 2]  514 	txa
      0001B4 C8               [ 2]  515 	iny
      0001B5 91*00            [ 6]  516 	sta	[DPTR],y
                                    517 ;	Raw cost for generated ic 108 : (22, 38.000000) count=0.750000
                                    518 ;	genLabel
      0001B7                        519 00118$:
                                    520 ;	Raw cost for generated ic 109 : (0, 0.000000) count=1.000000
                                    521 ;	../mbrtoc16.c: 70: low_surrogate = (codepoint & 0x3ff) + 0xdc00;
                                    522 ;	genCast
                                    523 ;	genCopy
      0001B7 AEr09r00         [ 4]  524 	ldx	(_mbrtoc16_codepoint_10000_22 + 1)
      0001BA ADr08r00         [ 4]  525 	lda	_mbrtoc16_codepoint_10000_22
                                    526 ;	Raw cost for generated ic 136 : (6, 8.000000) count=1.000000
                                    527 ;	genAnd
      0001BD 85*00            [ 3]  528 	sta	*(REGTEMP+0)
      0001BF 8A               [ 2]  529 	txa
      0001C0 29 03            [ 2]  530 	and	#0x03
      0001C2 AA               [ 2]  531 	tax
      0001C3 A5*00            [ 3]  532 	lda	*(REGTEMP+0)
                                    533 ;	Raw cost for generated ic 110 : (8, 12.000000) count=1.000000
                                    534 ;	genPlus
                                    535 ;	  genPlusInc
      0001C5 18               [ 2]  536 	clc
      0001C6 8Dr11r00         [ 4]  537 	sta	_mbrtoc16_low_surrogate_10000_22
      0001C9 8A               [ 2]  538 	txa
      0001CA 69 DC            [ 3]  539 	adc	#0xdc
      0001CC 8Dr12r00         [ 4]  540 	sta	(_mbrtoc16_low_surrogate_10000_22 + 1)
                                    541 ;	Raw cost for generated ic 111 : (10, 14.000000) count=1.000000
                                    542 ;	../mbrtoc16.c: 71: ps->c[0] = 0;
                                    543 ;	genAssign
                                    544 ;	genCopy
      0001CF ADr05r00         [ 4]  545 	lda	(_mbrtoc16_PARM_4 + 1)
      0001D2 85*03            [ 3]  546 	sta	*(_mbrtoc16_sloc1_1_0 + 1)
      0001D4 ADr04r00         [ 4]  547 	lda	_mbrtoc16_PARM_4
      0001D7 85*02            [ 3]  548 	sta	*_mbrtoc16_sloc1_1_0
                                    549 ;	Raw cost for generated ic 114 : (10, 14.000000) count=1.000000
                                    550 ;	genPointerSet
      0001D9 A9 00            [ 2]  551 	lda	#0x00
      0001DB A8               [ 2]  552 	tay
      0001DC 91*02            [ 6]  553 	sta	[*_mbrtoc16_sloc1_1_0],y
                                    554 ;	Raw cost for generated ic 117 : (5, 10.000000) count=1.000000
                                    555 ;	../mbrtoc16.c: 72: ps->c[1] = low_surrogate & 0xff;
                                    556 ;	genAssign
                                    557 ;	genCopy
      0001DE A5*03            [ 3]  558 	lda	*(_mbrtoc16_sloc1_1_0 + 1)
      0001E0 85*01            [ 3]  559 	sta	*(_mbrtoc16_sloc0_1_0 + 1)
      0001E2 A5*02            [ 3]  560 	lda	*_mbrtoc16_sloc1_1_0
      0001E4 85*00            [ 3]  561 	sta	*_mbrtoc16_sloc0_1_0
                                    562 ;	Raw cost for generated ic 120 : (8, 12.000000) count=1.000000
                                    563 ;	genCast
                                    564 ;	genCopy
      0001E6 ADr11r00         [ 4]  565 	lda	_mbrtoc16_low_surrogate_10000_22
                                    566 ;	Raw cost for generated ic 134 : (3, 4.000000) count=1.000000
                                    567 ;	genPointerSet
      0001E9 C8               [ 2]  568 	iny
      0001EA 91*00            [ 6]  569 	sta	[*_mbrtoc16_sloc0_1_0],y
                                    570 ;	Raw cost for generated ic 123 : (3, 8.000000) count=1.000000
                                    571 ;	../mbrtoc16.c: 73: ps->c[2] = low_surrogate >> 8;
                                    572 ;	genAssign
                                    573 ;	genCopy
                                    574 ;	Raw cost for generated ic 126 : (0, 0.000000) count=1.000000
                                    575 ;	genGetByte
      0001EC ADr12r00         [ 4]  576 	lda	(_mbrtoc16_low_surrogate_10000_22 + 1)
                                    577 ;	Raw cost for generated ic 127 : (3, 4.000000) count=1.000000
                                    578 ;	genPointerSet
      0001EF C8               [ 2]  579 	iny
      0001F0 91*02            [ 6]  580 	sta	[*_mbrtoc16_sloc1_1_0],y
                                    581 ;	Raw cost for generated ic 128 : (3, 8.000000) count=1.000000
                                    582 ;	../mbrtoc16.c: 75: return(ret);
                                    583 ;	genRet
      0001F2 AEr0Dr00         [ 4]  584 	ldx	(_mbrtoc16_ret_10000_22 + 1)
      0001F5 ADr0Cr00         [ 4]  585 	lda	_mbrtoc16_ret_10000_22
                                    586 ;	Raw cost for generated ic 129 : (6, 8.000000) count=1.000000
                                    587 ;	genLabel
                                    588 ;	Raw cost for generated ic 130 : (0, 0.000000) count=1.000000
                                    589 ;	../mbrtoc16.c: 76: }
                                    590 ;	genEndFunction
      0001F8 60               [ 6]  591 	rts
                                    592 ;	Raw cost for generated ic 131 : (1, 6.000000) count=1.000000
                                    593 	.area CODE
                                    594 	.area RODATA
                                    595 	.area RODATA
      000000                        596 ___str_0:
      000000 00                     597 	.db 0x00
                                    598 	.area CODE
                                    599 	.area XINIT
                                    600 	.area CABS    (ABS)
