                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.10 #15691 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module stdc_memreverse8
                                      6 	
                                      7 	.optsdcc -mmos6502
                                      8 
                                      9 ;--------------------------------------------------------
                                     10 ;  Ordering of segments for the linker.
                                     11 ;--------------------------------------------------------
                                     12 	.area ZP      (PAG)
                                     13 	.area OSEG    (PAG, OVR)
                                     14 	.area _CODE
                                     15 	.area GSINIT
                                     16 	.area GSFINAL
                                     17 	.area CODE
                                     18 	.area RODATA
                                     19 	.area XINIT
                                     20 	.area _DATA
                                     21 	.area DATA
                                     22 	.area BSS
                                     23 ;--------------------------------------------------------
                                     24 ; Public variables in this module
                                     25 ;--------------------------------------------------------
                                     26 	.globl _stdc_memreverse8
                                     27 ;--------------------------------------------------------
                                     28 ; ZP ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area ZP      (PAG)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in ram
                                     33 ;--------------------------------------------------------
                                     34 ;--------------------------------------------------------
                                     35 ; uninitialized external ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area BSS
                                     38 ;--------------------------------------------------------
                                     39 ; absolute external ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area DABS    (ABS)
                                     42 ;--------------------------------------------------------
                                     43 ; initialized external ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area DATA
                                     46 ;--------------------------------------------------------
                                     47 ; global & static initialisations
                                     48 ;--------------------------------------------------------
                                     49 	.area _CODE
                                     50 	.area GSINIT
                                     51 	.area GSFINAL
                                     52 	.area GSINIT
                                     53 ;--------------------------------------------------------
                                     54 ; Home
                                     55 ;--------------------------------------------------------
                                     56 	.area _CODE
                                     57 	.area _CODE
                                     58 ;--------------------------------------------------------
                                     59 ; code
                                     60 ;--------------------------------------------------------
                                     61 	.area CODE
                                     62 ;------------------------------------------------------------
                                     63 ;Allocation info for local variables in function 'stdc_memreverse8'
                                     64 ;------------------------------------------------------------
                                     65 ;ptr           Allocated to stack - sp +14 +2 
                                     66 ;n             Allocated to stack - sp +10 +2 
                                     67 ;i             Allocated to stack - sp +8 +2 
                                     68 ;c             Allocated to stack - sp +7 +1 
                                     69 ;sloc0         Allocated to stack - sp +5 +2 
                                     70 ;sloc1         Allocated to stack - sp +3 +2 
                                     71 ;sloc2         Allocated to stack - sp +1 +2 
                                     72 ;------------------------------------------------------------
                                     73 ;	../stdc_memreverse8.c: 31: void stdc_memreverse8(size_t n, unsigned char ptr[static n])
                                     74 ;	genLabel
                                     75 ;	Raw cost for generated ic 0 : (0, 0.000000) count=1.000000
                                     76 ;	-----------------------------------------
                                     77 ;	 function stdc_memreverse8
                                     78 ;	-----------------------------------------
                                     79 ;	Register assignment is optimal.
                                     80 ;	Stack space usage: 11 bytes.
      000000                         81 _stdc_memreverse8:
                                     82 ;	genReceive: size=2
                                     83 ;	pushreg: ofs=1
      000000 85*00            [ 3]   84 	sta	*(REGTEMP+0)
      000002 8A               [ 2]   85 	txa
      000003 48               [ 3]   86 	pha
      000004 A5*00            [ 3]   87 	lda	*(REGTEMP+0)
                                     88 ;	pushreg: ofs=0
      000006 48               [ 3]   89 	pha
                                     90 ;	  adjustStack : cycles stk:27  incdec:22  adc:12
      000007 BA               [ 2]   91 	tsx
      000008 8A               [ 2]   92 	txa
      000009 18               [ 2]   93 	clc
      00000A 69 F7            [ 2]   94 	adc	#0xf7
      00000C AA               [ 2]   95 	tax
      00000D 9A               [ 2]   96 	txs
                                     97 ;	Raw cost for generated ic 1 : (14, 26.000000) count=1.000000
                                     98 ;	skipping generated iCode
                                     99 ;	Raw cost for generated ic 2 : (0, 0.000000) count=1.000000
                                    100 ;	../stdc_memreverse8.c: 33: for(size_t i = 0; i < n / 2; i++)
                                    101 ;	genRightShift
                                    102 ;	genRightShiftLiteral
                                    103 ;	  genrsh16 - shift=1
      00000E BD 0A 01         [ 5]  104 	lda	0x10a,x
      000011 A8               [ 2]  105 	tay
      000012 BD 0B 01         [ 5]  106 	lda	0x10b,x
      000015 AA               [ 2]  107 	tax
      000016 98               [ 2]  108 	tya
      000017 86*00            [ 3]  109 	stx	*(REGTEMP+0)
      000019 46*00            [ 5]  110 	lsr	*(REGTEMP+0)
      00001B 6A               [ 2]  111 	ror	a
      00001C A6*00            [ 3]  112 	ldx	*(REGTEMP+0)
      00001E 85*01            [ 3]  113 	sta	*(REGTEMP+1)
      000020 8A               [ 2]  114 	txa
      000021 BA               [ 2]  115 	tsx
      000022 9D 06 01         [ 5]  116 	sta	0x106,x
      000025 A5*01            [ 3]  117 	lda	*(REGTEMP+1)
      000027 9D 05 01         [ 5]  118 	sta	0x105,x
      00002A A6*00            [ 3]  119 	ldx	*(REGTEMP+0)
                                    120 ;	Raw cost for generated ic 5 : (32, 53.000000) count=1.000000
                                    121 ;	genAssign
                                    122 ;	genAssignLit
      00002C A9 00            [ 2]  123 	lda	#0x00
      00002E BA               [ 2]  124 	tsx
      00002F 9D 08 01         [ 5]  125 	sta	0x108,x
      000032 9D 09 01         [ 5]  126 	sta	0x109,x
                                    127 ;	Raw cost for generated ic 32 : (9, 14.000000) count=1.000000
                                    128 ;	genLabel
      000035                        129 00103$:
                                    130 ;	Raw cost for generated ic 4 : (0, 0.000000) count=3.999997
                                    131 ;	genCmp
      000035 BA               [ 2]  132 	tsx
      000036 BD 08 01         [ 5]  133 	lda	0x108,x
      000039 38               [ 2]  134 	sec
      00003A FD 05 01         [ 5]  135 	sbc	0x105,x
      00003D BD 09 01         [ 5]  136 	lda	0x109,x
      000040 FD 06 01         [ 5]  137 	sbc	0x106,x
      000043 90 03            [ 4]  138 	bcc	00120$
      000045 4CrD1r00         [ 3]  139 	jmp	00105$
      000048                        140 00120$:
                                    141 ;	Raw cost for generated ic 6 : (19, 25.600000) count=3.999997
                                    142 ;	skipping generated iCode
                                    143 ;	Raw cost for generated ic 7 : (0, 0.000000) count=3.999997
                                    144 ;	../stdc_memreverse8.c: 35: unsigned char c = ptr[i];
                                    145 ;	genPlus
      000048 BD 0E 01         [ 5]  146 	lda	0x10e,x
      00004B 18               [ 2]  147 	clc
      00004C 7D 08 01         [ 5]  148 	adc	0x108,x
      00004F 9D 03 01         [ 5]  149 	sta	0x103,x
      000052 BD 0F 01         [ 5]  150 	lda	0x10f,x
      000055 7D 09 01         [ 5]  151 	adc	0x109,x
      000058 9D 04 01         [ 5]  152 	sta	0x104,x
                                    153 ;	Raw cost for generated ic 10 : (19, 28.000000) count=2.999997
                                    154 ;	genPointerGet
                                    155 ;	  setupDPTR - off=0 remat=(null) savea=0
      00005B 85*01            [ 3]  156 	sta	*(DPTR+1)
      00005D BD 03 01         [ 5]  157 	lda	0x103,x
      000060 85*00            [ 3]  158 	sta	*(DPTR+0)
      000062 A0 00            [ 2]  159 	ldy	#0x00
      000064 B1*00            [ 6]  160 	lda	[DPTR],y
      000066 9D 07 01         [ 5]  161 	sta	0x107,x
                                    162 ;	Raw cost for generated ic 11 : (14, 22.000000) count=2.999997
                                    163 ;	../stdc_memreverse8.c: 36: ptr[i] = ptr[n - i - 1];
                                    164 ;	genMinus
      000069 BD 0A 01         [ 5]  165 	lda	0x10a,x
      00006C 38               [ 2]  166 	sec
      00006D FD 08 01         [ 5]  167 	sbc	0x108,x
      000070 48               [ 3]  168 	pha
      000071 BD 0B 01         [ 5]  169 	lda	0x10b,x
      000074 FD 09 01         [ 5]  170 	sbc	0x109,x
      000077 AA               [ 2]  171 	tax
      000078 68               [ 4]  172 	pla
                                    173 ;	Raw cost for generated ic 14 : (16, 27.000000) count=2.999997
                                    174 ;	genMinus
                                    175 ;	  genMinusDec - size=2  icount=1
      000079 38               [ 2]  176 	sec
      00007A E9 01            [ 2]  177 	sbc	#0x01
      00007C B0 01            [ 4]  178 	bcs	00121$
      00007E CA               [ 2]  179 	dex
      00007F                        180 00121$:
                                    181 ;	Raw cost for generated ic 15 : (6, 8.600000) count=2.999997
                                    182 ;	genPlus
      00007F 86*00            [ 3]  183 	stx	*(REGTEMP+0)
      000081 18               [ 2]  184 	clc
      000082 BA               [ 2]  185 	tsx
      000083 7D 0E 01         [ 5]  186 	adc	0x10e,x
      000086 9D 01 01         [ 5]  187 	sta	0x101,x
      000089 A5*00            [ 3]  188 	lda	*(REGTEMP+0)
      00008B 7D 0F 01         [ 5]  189 	adc	0x10f,x
      00008E 9D 02 01         [ 5]  190 	sta	0x102,x
                                    191 ;	Raw cost for generated ic 16 : (18, 28.000000) count=2.999997
                                    192 ;	genPointerGet
                                    193 ;	  setupDPTR - off=0 remat=(null) savea=0
      000091 85*01            [ 3]  194 	sta	*(DPTR+1)
      000093 BD 01 01         [ 5]  195 	lda	0x101,x
      000096 85*00            [ 3]  196 	sta	*(DPTR+0)
      000098 B1*00            [ 6]  197 	lda	[DPTR],y
      00009A AA               [ 2]  198 	tax
                                    199 ;	Raw cost for generated ic 17 : (10, 17.000000) count=2.999997
                                    200 ;	genPointerSet
      00009B 86*00            [ 3]  201 	stx	*(REGTEMP+0)
                                    202 ;	  setupDPTR - off=0 remat=(null) savea=0
      00009D BA               [ 2]  203 	tsx
      00009E BD 03 01         [ 5]  204 	lda	0x103,x
      0000A1 85*00            [ 3]  205 	sta	*(DPTR+0)
      0000A3 BD 04 01         [ 5]  206 	lda	0x104,x
      0000A6 85*01            [ 3]  207 	sta	*(DPTR+1)
      0000A8 A6*00            [ 3]  208 	ldx	*(REGTEMP+0)
      0000AA 8A               [ 2]  209 	txa
      0000AB 91*00            [ 6]  210 	sta	[DPTR],y
                                    211 ;	Raw cost for generated ic 18 : (20, 33.000000) count=2.999997
                                    212 ;	../stdc_memreverse8.c: 37: ptr[n - i - 1] = c;
                                    213 ;	genPointerSet
                                    214 ;	  setupDPTR - off=0 remat=(null) savea=0
      0000AD BA               [ 2]  215 	tsx
      0000AE BD 01 01         [ 5]  216 	lda	0x101,x
      0000B1 85*00            [ 3]  217 	sta	*(DPTR+0)
      0000B3 BD 02 01         [ 5]  218 	lda	0x102,x
      0000B6 85*01            [ 3]  219 	sta	*(DPTR+1)
      0000B8 BD 07 01         [ 5]  220 	lda	0x107,x
      0000BB 91*00            [ 6]  221 	sta	[DPTR],y
                                    222 ;	Raw cost for generated ic 22 : (16, 26.000000) count=2.999997
                                    223 ;	../stdc_memreverse8.c: 33: for(size_t i = 0; i < n / 2; i++)
                                    224 ;	genPlus
                                    225 ;	  genPlusInc
      0000BD BD 08 01         [ 5]  226 	lda	0x108,x
      0000C0 18               [ 2]  227 	clc
      0000C1 69 01            [ 2]  228 	adc	#0x01
      0000C3 9D 08 01         [ 5]  229 	sta	0x108,x
      0000C6 BD 09 01         [ 5]  230 	lda	0x109,x
      0000C9 69 00            [ 2]  231 	adc	#0x00
      0000CB 9D 09 01         [ 5]  232 	sta	0x109,x
                                    233 ;	Raw cost for generated ic 25 : (17, 24.000000) count=2.999997
                                    234 ;	genGoto
      0000CE 4Cr35r00         [ 3]  235 	jmp	00103$
                                    236 ;	Raw cost for generated ic 27 : (3, 3.000000) count=2.999997
                                    237 ;	genLabel
      0000D1                        238 00105$:
                                    239 ;	Raw cost for generated ic 29 : (0, 0.000000) count=0.999999
                                    240 ;	../stdc_memreverse8.c: 39: }
                                    241 ;	genEndFunction
                                    242 ;	  adjustStack : cycles stk:50  incdec:32  adc:24
      0000D1 86*00            [ 3]  243 	stx	*(REGTEMP+0)
      0000D3 85*01            [ 3]  244 	sta	*(REGTEMP+1)
      0000D5 BA               [ 2]  245 	tsx
      0000D6 8A               [ 2]  246 	txa
      0000D7 18               [ 2]  247 	clc
      0000D8 69 0B            [ 2]  248 	adc	#0x0b
      0000DA AA               [ 2]  249 	tax
      0000DB 9A               [ 2]  250 	txs
      0000DC A5*01            [ 3]  251 	lda	*(REGTEMP+1)
      0000DE A6*00            [ 3]  252 	ldx	*(REGTEMP+0)
      0000E0 60               [ 6]  253 	rts
                                    254 ;	Raw cost for generated ic 30 : (16, 30.000000) count=0.999999
                                    255 	.area CODE
                                    256 	.area RODATA
                                    257 	.area XINIT
                                    258 	.area CABS    (ABS)
