                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.10 #15691 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module wcscmp
                                      6 	
                                      7 	.optsdcc -mmos6502
                                      8 
                                      9 ;--------------------------------------------------------
                                     10 ;  Ordering of segments for the linker.
                                     11 ;--------------------------------------------------------
                                     12 	.area ZP      (PAG)
                                     13 	.area OSEG    (PAG, OVR)
                                     14 	.area _CODE
                                     15 	.area GSINIT
                                     16 	.area GSFINAL
                                     17 	.area CODE
                                     18 	.area RODATA
                                     19 	.area XINIT
                                     20 	.area _DATA
                                     21 	.area DATA
                                     22 	.area BSS
                                     23 ;--------------------------------------------------------
                                     24 ; Public variables in this module
                                     25 ;--------------------------------------------------------
                                     26 	.globl _wcscmp
                                     27 ;--------------------------------------------------------
                                     28 ; ZP ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area ZP      (PAG)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in ram
                                     33 ;--------------------------------------------------------
                                     34 ;--------------------------------------------------------
                                     35 ; uninitialized external ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area BSS
                                     38 ;--------------------------------------------------------
                                     39 ; absolute external ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area DABS    (ABS)
                                     42 ;--------------------------------------------------------
                                     43 ; initialized external ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area DATA
                                     46 ;--------------------------------------------------------
                                     47 ; global & static initialisations
                                     48 ;--------------------------------------------------------
                                     49 	.area _CODE
                                     50 	.area GSINIT
                                     51 	.area GSFINAL
                                     52 	.area GSINIT
                                     53 ;--------------------------------------------------------
                                     54 ; Home
                                     55 ;--------------------------------------------------------
                                     56 	.area _CODE
                                     57 	.area _CODE
                                     58 ;--------------------------------------------------------
                                     59 ; code
                                     60 ;--------------------------------------------------------
                                     61 	.area CODE
                                     62 ;------------------------------------------------------------
                                     63 ;Allocation info for local variables in function 'wcscmp'
                                     64 ;------------------------------------------------------------
                                     65 ;s2            Allocated to stack - sp +15 +2 
                                     66 ;s1            Allocated to registers 
                                     67 ;sloc0         Allocated to stack - sp +11 +2 
                                     68 ;sloc1         Allocated to stack - sp +9 +2 
                                     69 ;sloc2         Allocated to stack - sp +5 +4 
                                     70 ;sloc3         Allocated to stack - sp +1 +4 
                                     71 ;------------------------------------------------------------
                                     72 ;	../wcscmp.c: 31: int wcscmp(const wchar_t *s1, const wchar_t *s2)
                                     73 ;	genLabel
                                     74 ;	Raw cost for generated ic 0 : (0, 0.000000) count=1.000000
                                     75 ;	-----------------------------------------
                                     76 ;	 function wcscmp
                                     77 ;	-----------------------------------------
                                     78 ;	Register assignment is optimal.
                                     79 ;	Stack space usage: 12 bytes.
      000000                         80 _wcscmp:
                                     81 ;	genReceive: size=2
                                     82 ;	pushreg: ofs=1
      000000 85*00            [ 3]   83 	sta	*(REGTEMP+0)
      000002 8A               [ 2]   84 	txa
      000003 48               [ 3]   85 	pha
      000004 A5*00            [ 3]   86 	lda	*(REGTEMP+0)
                                     87 ;	pushreg: ofs=0
      000006 48               [ 3]   88 	pha
                                     89 ;	  adjustStack : cycles stk:30  incdec:24  adc:12
      000007 BA               [ 2]   90 	tsx
      000008 8A               [ 2]   91 	txa
      000009 18               [ 2]   92 	clc
      00000A 69 F6            [ 2]   93 	adc	#0xf6
      00000C AA               [ 2]   94 	tax
      00000D 9A               [ 2]   95 	txs
                                     96 ;	Raw cost for generated ic 1 : (14, 26.000000) count=1.000000
                                     97 ;	skipping generated iCode
                                     98 ;	Raw cost for generated ic 2 : (0, 0.000000) count=1.000000
                                     99 ;	../wcscmp.c: 33: while(*s1 == *s2 && *s1)
                                    100 ;	genAssign
                                    101 ;	genCopy
      00000E BD 10 01         [ 5]  102 	lda	0x110,x
      000011 9D 0A 01         [ 5]  103 	sta	0x10a,x
      000014 BD 0F 01         [ 5]  104 	lda	0x10f,x
      000017 9D 09 01         [ 5]  105 	sta	0x109,x
                                    106 ;	Raw cost for generated ic 52 : (12, 18.000000) count=1.000000
                                    107 ;	genLabel
      00001A                        108 00102$:
                                    109 ;	Raw cost for generated ic 3 : (0, 0.000000) count=2.285713
                                    110 ;	genPointerGet
                                    111 ;	  setupDPTR - off=0 remat=(null) savea=0
      00001A BA               [ 2]  112 	tsx
      00001B BD 0B 01         [ 5]  113 	lda	0x10b,x
      00001E 85*00            [ 3]  114 	sta	*(DPTR+0)
      000020 BD 0C 01         [ 5]  115 	lda	0x10c,x
      000023 85*01            [ 3]  116 	sta	*(DPTR+1)
      000025 A0 00            [ 2]  117 	ldy	#0x00
      000027 B1*00            [ 6]  118 	lda	[DPTR],y
      000029 9D 05 01         [ 5]  119 	sta	0x105,x
      00002C C8               [ 2]  120 	iny
      00002D B1*00            [ 6]  121 	lda	[DPTR],y
      00002F 9D 06 01         [ 5]  122 	sta	0x106,x
      000032 C8               [ 2]  123 	iny
      000033 B1*00            [ 6]  124 	lda	[DPTR],y
      000035 9D 07 01         [ 5]  125 	sta	0x107,x
      000038 C8               [ 2]  126 	iny
      000039 B1*00            [ 6]  127 	lda	[DPTR],y
      00003B 9D 08 01         [ 5]  128 	sta	0x108,x
                                    129 ;	Raw cost for generated ic 5 : (36, 64.000000) count=2.285713
                                    130 ;	genPointerGet
                                    131 ;	  setupDPTR - off=0 remat=(null) savea=0
      00003E BD 09 01         [ 5]  132 	lda	0x109,x
      000041 85*00            [ 3]  133 	sta	*(DPTR+0)
      000043 BD 0A 01         [ 5]  134 	lda	0x10a,x
      000046 85*01            [ 3]  135 	sta	*(DPTR+1)
      000048 A0 00            [ 2]  136 	ldy	#0x00
      00004A B1*00            [ 6]  137 	lda	[DPTR],y
      00004C 9D 01 01         [ 5]  138 	sta	0x101,x
      00004F C8               [ 2]  139 	iny
      000050 B1*00            [ 6]  140 	lda	[DPTR],y
      000052 9D 02 01         [ 5]  141 	sta	0x102,x
      000055 C8               [ 2]  142 	iny
      000056 B1*00            [ 6]  143 	lda	[DPTR],y
      000058 9D 03 01         [ 5]  144 	sta	0x103,x
      00005B C8               [ 2]  145 	iny
      00005C B1*00            [ 6]  146 	lda	[DPTR],y
      00005E 9D 04 01         [ 5]  147 	sta	0x104,x
                                    148 ;	Raw cost for generated ic 7 : (35, 62.000000) count=2.285713
                                    149 ;	genCmpEQorNE
      000061 BD 05 01         [ 5]  150 	lda	0x105,x
      000064 DD 01 01         [ 5]  151 	cmp	0x101,x
      000067 D0 4B            [ 4]  152 	bne	00104$
      000069 BD 06 01         [ 5]  153 	lda	0x106,x
      00006C DD 02 01         [ 5]  154 	cmp	0x102,x
      00006F D0 43            [ 4]  155 	bne	00104$
      000071 BD 07 01         [ 5]  156 	lda	0x107,x
      000074 DD 03 01         [ 5]  157 	cmp	0x103,x
      000077 D0 3B            [ 4]  158 	bne	00104$
      000079 BD 08 01         [ 5]  159 	lda	0x108,x
      00007C DD 04 01         [ 5]  160 	cmp	0x104,x
      00007F D0 33            [ 4]  161 	bne	00104$
                                    162 ;	Raw cost for generated ic 8 : (44, 54.399998) count=2.285713
                                    163 ;	skipping generated iCode
                                    164 ;	Raw cost for generated ic 9 : (0, 0.000000) count=2.285713
                                    165 ;	genIfx
      000081 BD 08 01         [ 5]  166 	lda	0x108,x
      000084 1D 07 01         [ 5]  167 	ora	0x107,x
      000087 1D 06 01         [ 5]  168 	ora	0x106,x
      00008A 1D 05 01         [ 5]  169 	ora	0x105,x
                                    170 ;	genIfxJump : z
      00008D F0 25            [ 4]  171 	beq	00104$
                                    172 ;	Raw cost for generated ic 14 : (17, 21.600000) count=1.714284
                                    173 ;	../wcscmp.c: 34: s1++, s2++;
                                    174 ;	genPlus
                                    175 ;	  genPlusInc
      00008F BD 0B 01         [ 5]  176 	lda	0x10b,x
      000092 18               [ 2]  177 	clc
      000093 69 04            [ 2]  178 	adc	#0x04
      000095 9D 0B 01         [ 5]  179 	sta	0x10b,x
      000098 BD 0C 01         [ 5]  180 	lda	0x10c,x
      00009B 69 00            [ 2]  181 	adc	#0x00
      00009D 9D 0C 01         [ 5]  182 	sta	0x10c,x
                                    183 ;	Raw cost for generated ic 18 : (17, 24.000000) count=1.285713
                                    184 ;	genPlus
                                    185 ;	  genPlusInc
      0000A0 BD 09 01         [ 5]  186 	lda	0x109,x
      0000A3 18               [ 2]  187 	clc
      0000A4 69 04            [ 2]  188 	adc	#0x04
      0000A6 9D 09 01         [ 5]  189 	sta	0x109,x
      0000A9 BD 0A 01         [ 5]  190 	lda	0x10a,x
      0000AC 69 00            [ 2]  191 	adc	#0x00
      0000AE 9D 0A 01         [ 5]  192 	sta	0x10a,x
                                    193 ;	Raw cost for generated ic 21 : (17, 24.000000) count=1.285713
                                    194 ;	genGoto
      0000B1 4Cr1Ar00         [ 3]  195 	jmp	00102$
                                    196 ;	Raw cost for generated ic 23 : (3, 3.000000) count=1.285713
                                    197 ;	genLabel
      0000B4                        198 00104$:
                                    199 ;	Raw cost for generated ic 24 : (0, 0.000000) count=0.999999
                                    200 ;	../wcscmp.c: 36: if(*s1 < *s2)
                                    201 ;	genPointerGet
                                    202 ;	  setupDPTR - off=0 remat=(null) savea=0
      0000B4 BA               [ 2]  203 	tsx
      0000B5 BD 0B 01         [ 5]  204 	lda	0x10b,x
      0000B8 85*00            [ 3]  205 	sta	*(DPTR+0)
      0000BA BD 0C 01         [ 5]  206 	lda	0x10c,x
      0000BD 85*01            [ 3]  207 	sta	*(DPTR+1)
      0000BF A0 00            [ 2]  208 	ldy	#0x00
      0000C1 B1*00            [ 6]  209 	lda	[DPTR],y
      0000C3 9D 01 01         [ 5]  210 	sta	0x101,x
      0000C6 C8               [ 2]  211 	iny
      0000C7 B1*00            [ 6]  212 	lda	[DPTR],y
      0000C9 9D 02 01         [ 5]  213 	sta	0x102,x
      0000CC C8               [ 2]  214 	iny
      0000CD B1*00            [ 6]  215 	lda	[DPTR],y
      0000CF 9D 03 01         [ 5]  216 	sta	0x103,x
      0000D2 C8               [ 2]  217 	iny
      0000D3 B1*00            [ 6]  218 	lda	[DPTR],y
      0000D5 9D 04 01         [ 5]  219 	sta	0x104,x
                                    220 ;	Raw cost for generated ic 26 : (36, 64.000000) count=0.999999
                                    221 ;	genPointerGet
                                    222 ;	  setupDPTR - off=0 remat=(null) savea=0
      0000D8 BD 09 01         [ 5]  223 	lda	0x109,x
      0000DB 85*00            [ 3]  224 	sta	*(DPTR+0)
      0000DD BD 0A 01         [ 5]  225 	lda	0x10a,x
      0000E0 85*01            [ 3]  226 	sta	*(DPTR+1)
      0000E2 A0 00            [ 2]  227 	ldy	#0x00
      0000E4 B1*00            [ 6]  228 	lda	[DPTR],y
      0000E6 9D 05 01         [ 5]  229 	sta	0x105,x
      0000E9 C8               [ 2]  230 	iny
      0000EA B1*00            [ 6]  231 	lda	[DPTR],y
      0000EC 9D 06 01         [ 5]  232 	sta	0x106,x
      0000EF C8               [ 2]  233 	iny
      0000F0 B1*00            [ 6]  234 	lda	[DPTR],y
      0000F2 9D 07 01         [ 5]  235 	sta	0x107,x
      0000F5 C8               [ 2]  236 	iny
      0000F6 B1*00            [ 6]  237 	lda	[DPTR],y
      0000F8 9D 08 01         [ 5]  238 	sta	0x108,x
                                    239 ;	Raw cost for generated ic 28 : (35, 62.000000) count=0.999999
                                    240 ;	genCmp
      0000FB BD 01 01         [ 5]  241 	lda	0x101,x
      0000FE 38               [ 2]  242 	sec
      0000FF FD 05 01         [ 5]  243 	sbc	0x105,x
      000102 BD 02 01         [ 5]  244 	lda	0x102,x
      000105 FD 06 01         [ 5]  245 	sbc	0x106,x
      000108 BD 03 01         [ 5]  246 	lda	0x103,x
      00010B FD 07 01         [ 5]  247 	sbc	0x107,x
      00010E BD 04 01         [ 5]  248 	lda	0x104,x
      000111 FD 08 01         [ 5]  249 	sbc	0x108,x
      000114 B0 06            [ 4]  250 	bcs	00106$
                                    251 ;	Raw cost for generated ic 29 : (30, 39.599998) count=0.999999
                                    252 ;	skipping generated iCode
                                    253 ;	Raw cost for generated ic 30 : (0, 0.000000) count=0.999999
                                    254 ;	../wcscmp.c: 37: return(-1);
                                    255 ;	genRet
      000116 A9 FF            [ 2]  256 	lda	#0xff
      000118 AA               [ 2]  257 	tax
      000119 4Cr42r01         [ 3]  258 	jmp	00109$
                                    259 ;	Raw cost for generated ic 33 : (6, 7.000000) count=0.749999
                                    260 ;	genLabel
      00011C                        261 00106$:
                                    262 ;	Raw cost for generated ic 34 : (0, 0.000000) count=0.999998
                                    263 ;	../wcscmp.c: 38: if(*s1 > *s2)
                                    264 ;	genCmp
      00011C BA               [ 2]  265 	tsx
      00011D BD 05 01         [ 5]  266 	lda	0x105,x
      000120 38               [ 2]  267 	sec
      000121 FD 01 01         [ 5]  268 	sbc	0x101,x
      000124 BD 06 01         [ 5]  269 	lda	0x106,x
      000127 FD 02 01         [ 5]  270 	sbc	0x102,x
      00012A BD 07 01         [ 5]  271 	lda	0x107,x
      00012D FD 03 01         [ 5]  272 	sbc	0x103,x
      000130 BD 08 01         [ 5]  273 	lda	0x108,x
      000133 FD 04 01         [ 5]  274 	sbc	0x104,x
      000136 B0 07            [ 4]  275 	bcs	00108$
                                    276 ;	Raw cost for generated ic 39 : (31, 41.599998) count=0.999998
                                    277 ;	skipping generated iCode
                                    278 ;	Raw cost for generated ic 40 : (0, 0.000000) count=0.999998
                                    279 ;	../wcscmp.c: 39: return(1);
                                    280 ;	genRet
      000138 A9 01            [ 2]  281 	lda	#0x01
      00013A A2 00            [ 2]  282 	ldx	#0x00
      00013C 4Cr42r01         [ 3]  283 	jmp	00109$
                                    284 ;	Raw cost for generated ic 43 : (7, 7.000000) count=0.749999
                                    285 ;	genLabel
      00013F                        286 00108$:
                                    287 ;	Raw cost for generated ic 44 : (0, 0.000000) count=0.999998
                                    288 ;	../wcscmp.c: 40: return(0);
                                    289 ;	genRet
      00013F A9 00            [ 2]  290 	lda	#0x00
      000141 AA               [ 2]  291 	tax
                                    292 ;	Raw cost for generated ic 45 : (3, 4.000000) count=0.999998
                                    293 ;	genLabel
      000142                        294 00109$:
                                    295 ;	Raw cost for generated ic 46 : (0, 0.000000) count=0.999998
                                    296 ;	../wcscmp.c: 41: }
                                    297 ;	genEndFunction
                                    298 ;	  adjustStack : cycles stk:54  incdec:34  adc:24
      000142 86*00            [ 3]  299 	stx	*(REGTEMP+0)
      000144 85*01            [ 3]  300 	sta	*(REGTEMP+1)
      000146 BA               [ 2]  301 	tsx
      000147 8A               [ 2]  302 	txa
      000148 18               [ 2]  303 	clc
      000149 69 0C            [ 2]  304 	adc	#0x0c
      00014B AA               [ 2]  305 	tax
      00014C 9A               [ 2]  306 	txs
      00014D A5*01            [ 3]  307 	lda	*(REGTEMP+1)
      00014F A6*00            [ 3]  308 	ldx	*(REGTEMP+0)
      000151 60               [ 6]  309 	rts
                                    310 ;	Raw cost for generated ic 47 : (16, 30.000000) count=0.999998
                                    311 	.area CODE
                                    312 	.area RODATA
                                    313 	.area XINIT
                                    314 	.area CABS    (ABS)
