                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.10 #15691 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module c16rtomb
                                      6 	
                                      7 	.optsdcc -mmos6502
                                      8 
                                      9 ;--------------------------------------------------------
                                     10 ;  Ordering of segments for the linker.
                                     11 ;--------------------------------------------------------
                                     12 	.area ZP      (PAG)
                                     13 	.area OSEG    (PAG, OVR)
                                     14 	.area _CODE
                                     15 	.area GSINIT
                                     16 	.area GSFINAL
                                     17 	.area CODE
                                     18 	.area RODATA
                                     19 	.area XINIT
                                     20 	.area _DATA
                                     21 	.area DATA
                                     22 	.area BSS
                                     23 ;--------------------------------------------------------
                                     24 ; Public variables in this module
                                     25 ;--------------------------------------------------------
                                     26 	.globl _wctomb
                                     27 	.globl _c16rtomb_PARM_3
                                     28 	.globl _c16rtomb_PARM_2
                                     29 	.globl _c16rtomb
                                     30 ;--------------------------------------------------------
                                     31 ; ZP ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area ZP      (PAG)
      000000                         34 _c16rtomb_sloc0_1_0:
      000000                         35 	.ds 2
      000002                         36 _c16rtomb_sloc1_1_0:
      000002                         37 	.ds 2
      000004                         38 _c16rtomb_sloc2_1_0:
      000004                         39 	.ds 2
      000006                         40 _c16rtomb_sloc3_1_0:
      000006                         41 	.ds 2
      000008                         42 _c16rtomb_sloc4_1_0:
      000008                         43 	.ds 2
      00000A                         44 _c16rtomb_sloc5_1_0:
      00000A                         45 	.ds 4
                                     46 ;--------------------------------------------------------
                                     47 ; overlayable items in ram
                                     48 ;--------------------------------------------------------
                                     49 ;--------------------------------------------------------
                                     50 ; uninitialized external ram data
                                     51 ;--------------------------------------------------------
                                     52 	.area BSS
      000000                         53 _c16rtomb_PARM_2:
      000000                         54 	.ds 2
      000002                         55 _c16rtomb_PARM_3:
      000002                         56 	.ds 2
      000004                         57 _c16rtomb_s_10000_48:
      000004                         58 	.ds 2
      000006                         59 _c16rtomb_codepoint_10000_49:
      000006                         60 	.ds 4
      00000A                         61 _c16rtomb_buf_10000_49:
      00000A                         62 	.ds 4
      00000E                         63 _c16rtomb_sps_10000_49:
      00000E                         64 	.ds 3
      000011                         65 _c16rtomb_high_surrogate_40000_55:
      000011                         66 	.ds 2
                                     67 ;--------------------------------------------------------
                                     68 ; absolute external ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area DABS    (ABS)
                                     71 ;--------------------------------------------------------
                                     72 ; initialized external ram data
                                     73 ;--------------------------------------------------------
                                     74 	.area DATA
                                     75 ;--------------------------------------------------------
                                     76 ; global & static initialisations
                                     77 ;--------------------------------------------------------
                                     78 	.area _CODE
                                     79 	.area GSINIT
                                     80 	.area GSFINAL
                                     81 	.area GSINIT
                                     82 ;--------------------------------------------------------
                                     83 ; Home
                                     84 ;--------------------------------------------------------
                                     85 	.area _CODE
                                     86 	.area _CODE
                                     87 ;--------------------------------------------------------
                                     88 ; code
                                     89 ;--------------------------------------------------------
                                     90 	.area CODE
                                     91 ;------------------------------------------------------------
                                     92 ;Allocation info for local variables in function 'c16rtomb'
                                     93 ;------------------------------------------------------------
                                     94 ;sloc0         Allocated with name '_c16rtomb_sloc0_1_0'
                                     95 ;sloc1         Allocated with name '_c16rtomb_sloc1_1_0'
                                     96 ;sloc2         Allocated with name '_c16rtomb_sloc2_1_0'
                                     97 ;sloc3         Allocated with name '_c16rtomb_sloc3_1_0'
                                     98 ;sloc4         Allocated with name '_c16rtomb_sloc4_1_0'
                                     99 ;sloc5         Allocated with name '_c16rtomb_sloc5_1_0'
                                    100 ;c16           Allocated with name '_c16rtomb_PARM_2'
                                    101 ;ps            Allocated with name '_c16rtomb_PARM_3'
                                    102 ;s             Allocated with name '_c16rtomb_s_10000_48'
                                    103 ;codepoint     Allocated with name '_c16rtomb_codepoint_10000_49'
                                    104 ;buf           Allocated with name '_c16rtomb_buf_10000_49'
                                    105 ;sps           Allocated with name '_c16rtomb_sps_10000_49'
                                    106 ;high_surrogate Allocated with name '_c16rtomb_high_surrogate_40000_55'
                                    107 ;------------------------------------------------------------
                                    108 ;	../c16rtomb.c: 35: size_t c16rtomb(char *restrict s, char16_t c16, mbstate_t *restrict ps)
                                    109 ;	genLabel
                                    110 ;	Raw cost for generated ic 0 : (0, 0.000000) count=1.000000
                                    111 ;	-----------------------------------------
                                    112 ;	 function c16rtomb
                                    113 ;	-----------------------------------------
                                    114 ;	Register assignment is optimal.
                                    115 ;	Stack space usage: 0 bytes.
      000000                        116 _c16rtomb:
                                    117 ;	Raw cost for generated ic 1 : (0, 0.000000) count=1.000000
                                    118 ;	genReceive
      000000 8Dr04r00         [ 4]  119 	sta	_c16rtomb_s_10000_48
      000003 8Er05r00         [ 4]  120 	stx	(_c16rtomb_s_10000_48 + 1)
                                    121 ;	Raw cost for generated ic 2 : (6, 8.000000) count=1.000000
                                    122 ;	../c16rtomb.c: 41: if(!s)
                                    123 ;	genIfx
      000006 8A               [ 2]  124 	txa
      000007 0Dr04r00         [ 4]  125 	ora	_c16rtomb_s_10000_48
                                    126 ;	genIfxJump : z
      00000A D0 0A            [ 4]  127 	bne	00102$
                                    128 ;	Raw cost for generated ic 3 : (9, 11.600000) count=1.000000
                                    129 ;	../c16rtomb.c: 42: s = buf;
                                    130 ;	skipping iCode since result will be rematerialized
                                    131 ;	Raw cost for generated ic 6 : (0, 0.000000) count=0.750000
                                    132 ;	genCast
                                    133 ;	genCopy
      00000C A9s00            [ 2]  134 	lda	#>_c16rtomb_buf_10000_49
      00000E 8Dr05r00         [ 4]  135 	sta	(_c16rtomb_s_10000_48 + 1)
      000011 A9r0A            [ 2]  136 	lda	#_c16rtomb_buf_10000_49
      000013 8Dr04r00         [ 4]  137 	sta	_c16rtomb_s_10000_48
                                    138 ;	Raw cost for generated ic 7 : (10, 12.000000) count=0.750000
                                    139 ;	genLabel
      000016                        140 00102$:
                                    141 ;	Raw cost for generated ic 9 : (0, 0.000000) count=1.000000
                                    142 ;	../c16rtomb.c: 44: if(!ps)
                                    143 ;	genIfx
      000016 ADr03r00         [ 4]  144 	lda	(_c16rtomb_PARM_3 + 1)
      000019 0Dr02r00         [ 4]  145 	ora	_c16rtomb_PARM_3
                                    146 ;	genIfxJump : z
      00001C D0 0A            [ 4]  147 	bne	00104$
                                    148 ;	Raw cost for generated ic 10 : (11, 13.600000) count=1.000000
                                    149 ;	../c16rtomb.c: 45: ps = &sps;
                                    150 ;	skipping iCode since result will be rematerialized
                                    151 ;	Raw cost for generated ic 13 : (0, 0.000000) count=0.750000
                                    152 ;	genCast
                                    153 ;	genCopy
      00001E A9s00            [ 2]  154 	lda	#>_c16rtomb_sps_10000_49
      000020 8Dr03r00         [ 4]  155 	sta	(_c16rtomb_PARM_3 + 1)
      000023 A9r0E            [ 2]  156 	lda	#_c16rtomb_sps_10000_49
      000025 8Dr02r00         [ 4]  157 	sta	_c16rtomb_PARM_3
                                    158 ;	Raw cost for generated ic 14 : (10, 12.000000) count=0.750000
                                    159 ;	genLabel
      000028                        160 00104$:
                                    161 ;	Raw cost for generated ic 16 : (0, 0.000000) count=1.000000
                                    162 ;	../c16rtomb.c: 47: if (!c16) // 0 always resets conversion state.
                                    163 ;	genIfx
      000028 ADr01r00         [ 4]  164 	lda	(_c16rtomb_PARM_2 + 1)
      00002B 0Dr00r00         [ 4]  165 	ora	_c16rtomb_PARM_2
                                    166 ;	genIfxJump : z
      00002E D0 22            [ 4]  167 	bne	00119$
                                    168 ;	Raw cost for generated ic 17 : (11, 13.600000) count=1.000000
                                    169 ;	../c16rtomb.c: 49: ps->c[1] = ps->c[2] = 0;
                                    170 ;	genAssign
                                    171 ;	genCopy
      000030 AEr03r00         [ 4]  172 	ldx	(_c16rtomb_PARM_3 + 1)
      000033 ADr02r00         [ 4]  173 	lda	_c16rtomb_PARM_3
                                    174 ;	Raw cost for generated ic 20 : (6, 8.000000) count=0.750000
                                    175 ;	genAssign
                                    176 ;	genCopy
      000036 85*00            [ 3]  177 	sta	*_c16rtomb_sloc0_1_0
      000038 86*01            [ 3]  178 	stx	*(_c16rtomb_sloc0_1_0 + 1)
                                    179 ;	Raw cost for generated ic 22 : (4, 6.000000) count=0.750000
                                    180 ;	genAssign
                                    181 ;	genCopy
                                    182 ;	Raw cost for generated ic 25 : (0, 0.000000) count=0.750000
                                    183 ;	genPointerSet
      00003A A9 00            [ 2]  184 	lda	#0x00
      00003C A0 02            [ 2]  185 	ldy	#0x02
      00003E 91*00            [ 6]  186 	sta	[_c16rtomb_sloc0_1_0],y
                                    187 ;	Raw cost for generated ic 26 : (6, 10.000000) count=0.750000
                                    188 ;	genPointerSet
      000040 88               [ 2]  189 	dey
      000041 91*00            [ 6]  190 	sta	[*_c16rtomb_sloc0_1_0],y
                                    191 ;	Raw cost for generated ic 27 : (3, 8.000000) count=0.750000
                                    192 ;	../c16rtomb.c: 50: codepoint = 0;
                                    193 ;	genAssign
                                    194 ;	genAssignLit
      000043 8Dr06r00         [ 4]  195 	sta	_c16rtomb_codepoint_10000_49
      000046 8Dr07r00         [ 4]  196 	sta	(_c16rtomb_codepoint_10000_49 + 1)
      000049 8Dr08r00         [ 4]  197 	sta	(_c16rtomb_codepoint_10000_49 + 2)
      00004C 8Dr09r00         [ 4]  198 	sta	(_c16rtomb_codepoint_10000_49 + 3)
                                    199 ;	Raw cost for generated ic 28 : (12, 16.000000) count=0.750000
                                    200 ;	genGoto
      00004F 4Cr47r01         [ 3]  201 	jmp	00120$
                                    202 ;	Raw cost for generated ic 29 : (3, 3.000000) count=0.750000
                                    203 ;	genLabel
      000052                        204 00119$:
                                    205 ;	Raw cost for generated ic 30 : (0, 0.000000) count=0.250000
                                    206 ;	../c16rtomb.c: 52: else if(ps->c[1] || ps->c[2]) // We already have the high surrogate. Now get the low surrogate
                                    207 ;	genAssign
                                    208 ;	genCopy
      000052 AEr03r00         [ 4]  209 	ldx	(_c16rtomb_PARM_3 + 1)
      000055 ADr02r00         [ 4]  210 	lda	_c16rtomb_PARM_3
                                    211 ;	Raw cost for generated ic 31 : (6, 8.000000) count=0.250000
                                    212 ;	genAssign
                                    213 ;	genCopy
      000058 85*00            [ 3]  214 	sta	*_c16rtomb_sloc0_1_0
      00005A 86*01            [ 3]  215 	stx	*(_c16rtomb_sloc0_1_0 + 1)
                                    216 ;	Raw cost for generated ic 33 : (4, 6.000000) count=0.250000
                                    217 ;	genPointerGet
      00005C A0 01            [ 2]  218 	ldy	#0x01
      00005E B1*00            [ 6]  219 	lda	[*_c16rtomb_sloc0_1_0],y
      000060 A8               [ 2]  220 	tay
      000061 A5*00            [ 3]  221 	lda	*(_c16rtomb_sloc0_1_0+0)
                                    222 ;	Raw cost for generated ic 34 : (8, 13.000000) count=0.250000
                                    223 ;	genIfx
      000063 C0 00            [ 2]  224 	cpy	#0x00
                                    225 ;	genIfxJump : z
      000065 D0 0D            [ 4]  226 	bne	00114$
                                    227 ;	Raw cost for generated ic 35 : (7, 7.600000) count=0.250000
                                    228 ;	genAssign
                                    229 ;	genCopy
      000067 85*02            [ 3]  230 	sta	*_c16rtomb_sloc1_1_0
      000069 86*03            [ 3]  231 	stx	*(_c16rtomb_sloc1_1_0 + 1)
                                    232 ;	Raw cost for generated ic 40 : (4, 6.000000) count=0.187500
                                    233 ;	genPointerGet
      00006B A0 02            [ 2]  234 	ldy	#0x02
      00006D B1*02            [ 6]  235 	lda	[*_c16rtomb_sloc1_1_0],y
                                    236 ;	Raw cost for generated ic 41 : (4, 7.000000) count=0.187500
                                    237 ;	genIfx
                                    238 ;	genIfxJump : z
      00006F D0 03            [ 4]  239 	bne	00181$
      000071 4CrFDr00         [ 3]  240 	jmp	00115$
      000074                        241 00181$:
                                    242 ;	Raw cost for generated ic 42 : (5, 5.600000) count=0.187500
                                    243 ;	genLabel
      000074                        244 00114$:
                                    245 ;	Raw cost for generated ic 44 : (0, 0.000000) count=0.203125
                                    246 ;	../c16rtomb.c: 56: if(c16 < 0xdc00 || c16 > 0xdfff)
                                    247 ;	genCmp
      000074 ADr01r00         [ 4]  248 	lda	(_c16rtomb_PARM_2 + 1)
      000077 38               [ 2]  249 	sec
      000078 E9 DC            [ 2]  250 	sbc	#0xdc
      00007A B0 03            [ 4]  251 	bcs	00182$
      00007C 4Cr68r01         [ 3]  252 	jmp	00121$
      00007F                        253 00182$:
                                    254 ;	Raw cost for generated ic 45 : (11, 13.600000) count=0.203125
                                    255 ;	skipping generated iCode
                                    256 ;	Raw cost for generated ic 46 : (0, 0.000000) count=0.203125
                                    257 ;	genCmp
      00007F A9 FF            [ 2]  258 	lda	#0xff
      000081 38               [ 2]  259 	sec
      000082 EDr00r00         [ 4]  260 	sbc	_c16rtomb_PARM_2
      000085 A9 DF            [ 2]  261 	lda	#0xdf
      000087 EDr01r00         [ 4]  262 	sbc	(_c16rtomb_PARM_2 + 1)
      00008A B0 03            [ 4]  263 	bcs	00183$
      00008C 4Cr68r01         [ 3]  264 	jmp	00121$
      00008F                        265 00183$:
                                    266 ;	Raw cost for generated ic 49 : (16, 19.600000) count=0.152344
                                    267 ;	skipping generated iCode
                                    268 ;	Raw cost for generated ic 50 : (0, 0.000000) count=0.152344
                                    269 ;	../c16rtomb.c: 59: high_surrogate = ps->c[1] + (ps->c[2] << 8);
                                    270 ;	genAssign
                                    271 ;	genCopy
      00008F AEr03r00         [ 4]  272 	ldx	(_c16rtomb_PARM_3 + 1)
      000092 ADr02r00         [ 4]  273 	lda	_c16rtomb_PARM_3
                                    274 ;	Raw cost for generated ic 55 : (6, 8.000000) count=0.114258
                                    275 ;	genAssign
                                    276 ;	genCopy
      000095 85*04            [ 3]  277 	sta	*_c16rtomb_sloc2_1_0
      000097 86*05            [ 3]  278 	stx	*(_c16rtomb_sloc2_1_0 + 1)
                                    279 ;	Raw cost for generated ic 57 : (4, 6.000000) count=0.114258
                                    280 ;	genPointerGet
      000099 A0 01            [ 2]  281 	ldy	#0x01
      00009B B1*04            [ 6]  282 	lda	[*_c16rtomb_sloc2_1_0],y
      00009D A8               [ 2]  283 	tay
      00009E A5*04            [ 3]  284 	lda	*(_c16rtomb_sloc2_1_0+0)
                                    285 ;	Raw cost for generated ic 58 : (8, 13.000000) count=0.114258
                                    286 ;	genCast
                                    287 ;	genCopy
      0000A0 48               [ 3]  288 	pha
      0000A1 A9 00            [ 2]  289 	lda	#0x00
      0000A3 85*07            [ 3]  290 	sta	*(_c16rtomb_sloc3_1_0 + 1)
      0000A5 68               [ 4]  291 	pla
      0000A6 84*06            [ 3]  292 	sty	*_c16rtomb_sloc3_1_0
                                    293 ;	Raw cost for generated ic 59 : (8, 15.000000) count=0.114258
                                    294 ;	genAssign
                                    295 ;	genCopy
      0000A8 85*08            [ 3]  296 	sta	*_c16rtomb_sloc4_1_0
      0000AA 86*09            [ 3]  297 	stx	*(_c16rtomb_sloc4_1_0 + 1)
                                    298 ;	Raw cost for generated ic 62 : (4, 6.000000) count=0.114258
                                    299 ;	genPointerGet
      0000AC A0 02            [ 2]  300 	ldy	#0x02
      0000AE B1*08            [ 6]  301 	lda	[*_c16rtomb_sloc4_1_0],y
                                    302 ;	Raw cost for generated ic 63 : (4, 7.000000) count=0.114258
                                    303 ;	genCast
                                    304 ;	genCopy
                                    305 ;	Raw cost for generated ic 64 : (2, 2.000000) count=0.114258
                                    306 ;	genLeftShift
                                    307 ;	genLeftShiftLiteral
                                    308 ;	  genlsh16 - shift=8
      0000B0 AA               [ 2]  309 	tax
      0000B1 A9 00            [ 2]  310 	lda	#0x00
                                    311 ;	Raw cost for generated ic 65 : (3, 4.000000) count=0.114258
                                    312 ;	genPlus
      0000B3 18               [ 2]  313 	clc
      0000B4 65*06            [ 3]  314 	adc	*_c16rtomb_sloc3_1_0
      0000B6 8Dr11r00         [ 4]  315 	sta	_c16rtomb_high_surrogate_40000_55
      0000B9 8A               [ 2]  316 	txa
      0000BA 65*07            [ 3]  317 	adc	*(_c16rtomb_sloc3_1_0 + 1)
      0000BC 8Dr12r00         [ 4]  318 	sta	(_c16rtomb_high_surrogate_40000_55 + 1)
                                    319 ;	Raw cost for generated ic 66 : (12, 18.000000) count=0.114258
                                    320 ;	../c16rtomb.c: 60: ps->c[1] = ps->c[2] = 0;
                                    321 ;	genPointerSet
      0000BF A9 00            [ 2]  322 	lda	#0x00
      0000C1 91*08            [ 6]  323 	sta	[*_c16rtomb_sloc4_1_0],y
                                    324 ;	Raw cost for generated ic 74 : (4, 8.000000) count=0.114258
                                    325 ;	genPointerSet
      0000C3 88               [ 2]  326 	dey
      0000C4 91*04            [ 6]  327 	sta	[*_c16rtomb_sloc2_1_0],y
                                    328 ;	Raw cost for generated ic 75 : (3, 8.000000) count=0.114258
                                    329 ;	../c16rtomb.c: 61: codepoint = (high_surrogate << 10) - (0xd800 << 10) + c16 - 0xdc00 + 0x10000;
                                    330 ;	genLeftShift
                                    331 ;	genLeftShiftLiteral
                                    332 ;	  genlsh16 - shift=10
      0000C6 ADr11r00         [ 4]  333 	lda	_c16rtomb_high_surrogate_40000_55
      0000C9 0A               [ 2]  334 	asl	a
      0000CA 0A               [ 2]  335 	asl	a
      0000CB AA               [ 2]  336 	tax
      0000CC A9 00            [ 2]  337 	lda	#0x00
                                    338 ;	Raw cost for generated ic 76 : (8, 12.000000) count=0.114258
                                    339 ;	genPlus
      0000CE 18               [ 2]  340 	clc
      0000CF 6Dr00r00         [ 4]  341 	adc	_c16rtomb_PARM_2
      0000D2 48               [ 3]  342 	pha
      0000D3 8A               [ 2]  343 	txa
      0000D4 6Dr01r00         [ 4]  344 	adc	(_c16rtomb_PARM_2 + 1)
      0000D7 AA               [ 2]  345 	tax
      0000D8 68               [ 4]  346 	pla
                                    347 ;	Raw cost for generated ic 77 : (11, 21.000000) count=0.114258
                                    348 ;	genCast
                                    349 ;	genCopy
      0000D9 88               [ 2]  350 	dey
      0000DA 84*0D            [ 3]  351 	sty	*(_c16rtomb_sloc5_1_0 + 3)
      0000DC 84*0C            [ 3]  352 	sty	*(_c16rtomb_sloc5_1_0 + 2)
      0000DE 86*0B            [ 3]  353 	stx	*(_c16rtomb_sloc5_1_0 + 1)
      0000E0 85*0A            [ 3]  354 	sta	*_c16rtomb_sloc5_1_0
                                    355 ;	Raw cost for generated ic 78 : (9, 14.000000) count=0.114258
                                    356 ;	genPlus
                                    357 ;	  genPlusInc
      0000E2 18               [ 2]  358 	clc
      0000E3 8Dr06r00         [ 4]  359 	sta	_c16rtomb_codepoint_10000_49
      0000E6 8A               [ 2]  360 	txa
      0000E7 69 24            [ 2]  361 	adc	#0x24
      0000E9 8Dr07r00         [ 4]  362 	sta	(_c16rtomb_codepoint_10000_49 + 1)
      0000EC A5*0C            [ 3]  363 	lda	*(_c16rtomb_sloc5_1_0 + 2)
      0000EE 69 00            [ 2]  364 	adc	#0x00
      0000F0 8Dr08r00         [ 4]  365 	sta	(_c16rtomb_codepoint_10000_49 + 2)
      0000F3 A5*0D            [ 3]  366 	lda	*(_c16rtomb_sloc5_1_0 + 3)
      0000F5 69 00            [ 2]  367 	adc	#0x00
      0000F7 8Dr09r00         [ 4]  368 	sta	(_c16rtomb_codepoint_10000_49 + 3)
                                    369 ;	Raw cost for generated ic 79 : (24, 32.000000) count=0.114258
                                    370 ;	genGoto
      0000FA 4Cr47r01         [ 3]  371 	jmp	00120$
                                    372 ;	Raw cost for generated ic 81 : (3, 3.000000) count=0.114258
                                    373 ;	genLabel
      0000FD                        374 00115$:
                                    375 ;	Raw cost for generated ic 82 : (0, 0.000000) count=0.046875
                                    376 ;	../c16rtomb.c: 63: else if(c16 < 0xd7ff || c16 >= 0xe000) // Basic multilingual plane.
                                    377 ;	genCmp
      0000FD ADr00r00         [ 4]  378 	lda	_c16rtomb_PARM_2
      000100 38               [ 2]  379 	sec
      000101 E9 FF            [ 2]  380 	sbc	#0xff
      000103 ADr01r00         [ 4]  381 	lda	(_c16rtomb_PARM_2 + 1)
      000106 E9 D7            [ 2]  382 	sbc	#0xd7
      000108 90 08            [ 4]  383 	bcc	00110$
                                    384 ;	Raw cost for generated ic 83 : (16, 19.600000) count=0.046875
                                    385 ;	skipping generated iCode
                                    386 ;	Raw cost for generated ic 84 : (0, 0.000000) count=0.046875
                                    387 ;	genCmp
      00010A ADr01r00         [ 4]  388 	lda	(_c16rtomb_PARM_2 + 1)
      00010D 38               [ 2]  389 	sec
      00010E E9 E0            [ 2]  390 	sbc	#0xe0
      000110 90 17            [ 4]  391 	bcc	00111$
                                    392 ;	Raw cost for generated ic 87 : (11, 13.600000) count=0.035156
                                    393 ;	skipping generated iCode
                                    394 ;	Raw cost for generated ic 88 : (0, 0.000000) count=0.035156
                                    395 ;	genLabel
      000112                        396 00110$:
                                    397 ;	Raw cost for generated ic 90 : (0, 0.000000) count=0.038086
                                    398 ;	../c16rtomb.c: 64: codepoint = c16;
                                    399 ;	genCast
                                    400 ;	genCopy
      000112 A0 00            [ 2]  401 	ldy	#0x00
      000114 8Cr09r00         [ 4]  402 	sty	(_c16rtomb_codepoint_10000_49 + 3)
      000117 8Cr08r00         [ 4]  403 	sty	(_c16rtomb_codepoint_10000_49 + 2)
      00011A ADr01r00         [ 4]  404 	lda	(_c16rtomb_PARM_2 + 1)
      00011D 8Dr07r00         [ 4]  405 	sta	(_c16rtomb_codepoint_10000_49 + 1)
      000120 ADr00r00         [ 4]  406 	lda	_c16rtomb_PARM_2
      000123 8Dr06r00         [ 4]  407 	sta	_c16rtomb_codepoint_10000_49
                                    408 ;	Raw cost for generated ic 91 : (20, 26.000000) count=0.038086
                                    409 ;	genGoto
      000126 4Cr47r01         [ 3]  410 	jmp	00120$
                                    411 ;	Raw cost for generated ic 93 : (3, 3.000000) count=0.038086
                                    412 ;	genLabel
      000129                        413 00111$:
                                    414 ;	Raw cost for generated ic 94 : (0, 0.000000) count=0.000000
                                    415 ;	../c16rtomb.c: 67: if(c16 > 0xdbff)
                                    416 ;	genCmp
      000129 A9 FF            [ 2]  417 	lda	#0xff
      00012B 38               [ 2]  418 	sec
      00012C EDr00r00         [ 4]  419 	sbc	_c16rtomb_PARM_2
      00012F A9 DB            [ 2]  420 	lda	#0xdb
      000131 EDr01r00         [ 4]  421 	sbc	(_c16rtomb_PARM_2 + 1)
      000134 90 32            [ 4]  422 	bcc	00121$
                                    423 ;	Raw cost for generated ic 95 : (16, 19.600000) count=0.000000
                                    424 ;	skipping generated iCode
                                    425 ;	Raw cost for generated ic 96 : (0, 0.000000) count=0.000000
                                    426 ;	../c16rtomb.c: 70: ps->c[1] = c16 & 0xff;
                                    427 ;	genCast
                                    428 ;	genCopy
      000136 ADr00r00         [ 4]  429 	lda	_c16rtomb_PARM_2
                                    430 ;	Raw cost for generated ic 126 : (3, 4.000000) count=0.000000
                                    431 ;	genPointerSet
      000139 A0 01            [ 2]  432 	ldy	#0x01
      00013B 91*00            [ 6]  433 	sta	[*_c16rtomb_sloc0_1_0],y
                                    434 ;	Raw cost for generated ic 106 : (4, 8.000000) count=0.000000
                                    435 ;	../c16rtomb.c: 71: ps->c[2] = c16 >> 8;
                                    436 ;	genGetByte
      00013D ADr01r00         [ 4]  437 	lda	(_c16rtomb_PARM_2 + 1)
                                    438 ;	Raw cost for generated ic 110 : (3, 4.000000) count=0.000000
                                    439 ;	genPointerSet
      000140 C8               [ 2]  440 	iny
      000141 91*02            [ 6]  441 	sta	[*_c16rtomb_sloc1_1_0],y
                                    442 ;	Raw cost for generated ic 111 : (3, 8.000000) count=0.000000
                                    443 ;	../c16rtomb.c: 72: return(0);
                                    444 ;	genRet
      000143 A9 00            [ 2]  445 	lda	#0x00
      000145 AA               [ 2]  446 	tax
      000146 60               [ 6]  447 	rts
                                    448 ;	Raw cost for generated ic 112 : (6, 7.000000) count=0.000000
                                    449 ;	genLabel
      000147                        450 00120$:
                                    451 ;	Raw cost for generated ic 115 : (0, 0.000000) count=0.902344
                                    452 ;	../c16rtomb.c: 75: return(wctomb(s, codepoint));
                                    453 ;	genAssign
                                    454 ;	genCopy
      000147 ADr09r00         [ 4]  455 	lda	(_c16rtomb_codepoint_10000_49 + 3)
      00014A 8Dr03r00         [ 4]  456 	sta	(_wctomb_PARM_2 + 3)
      00014D ADr08r00         [ 4]  457 	lda	(_c16rtomb_codepoint_10000_49 + 2)
      000150 8Dr02r00         [ 4]  458 	sta	(_wctomb_PARM_2 + 2)
      000153 ADr07r00         [ 4]  459 	lda	(_c16rtomb_codepoint_10000_49 + 1)
      000156 8Dr01r00         [ 4]  460 	sta	(_wctomb_PARM_2 + 1)
      000159 ADr06r00         [ 4]  461 	lda	_c16rtomb_codepoint_10000_49
      00015C 8Dr00r00         [ 4]  462 	sta	_wctomb_PARM_2
                                    463 ;	Raw cost for generated ic 117 : (24, 32.000000) count=0.902344
                                    464 ;	Raw cost for generated ic 116 : (0, 0.000000) count=0.902344
                                    465 ;	genCall
                                    466 ;	genSend
      00015F AEr05r00         [ 4]  467 	ldx	(_c16rtomb_s_10000_48 + 1)
      000162 ADr04r00         [ 4]  468 	lda	_c16rtomb_s_10000_48
                                    469 ;	assignResultValue
                                    470 ;	Raw cost for generated ic 118 : (9, 14.000000) count=0.902344
                                    471 ;	genRet
      000165 4Cr00r00         [ 3]  472 	jmp	_wctomb
                                    473 ;	Raw cost for generated ic 119 : (3, 3.000000) count=0.902344
                                    474 ;	../c16rtomb.c: 77: eilseq:
                                    475 ;	genLabel
      000168                        476 00121$:
                                    477 ;	Raw cost for generated ic 120 : (0, 0.000000) count=0.991211
                                    478 ;	../c16rtomb.c: 78: errno = EILSEQ;
                                    479 ;	genAssign
                                    480 ;	genAssignLit
      000168 A2 54            [ 2]  481 	ldx	#0x54
      00016A 8Er00r00         [ 4]  482 	stx	_errno
      00016D A0 00            [ 2]  483 	ldy	#0x00
      00016F 8Cr01r00         [ 4]  484 	sty	(_errno + 1)
                                    485 ;	Raw cost for generated ic 122 : (10, 12.000000) count=0.991211
                                    486 ;	../c16rtomb.c: 79: return(-1);
                                    487 ;	genRet
      000172 A9 FF            [ 2]  488 	lda	#0xff
      000174 AA               [ 2]  489 	tax
                                    490 ;	Raw cost for generated ic 123 : (3, 4.000000) count=0.991211
                                    491 ;	genLabel
                                    492 ;	Raw cost for generated ic 124 : (0, 0.000000) count=0.991211
                                    493 ;	../c16rtomb.c: 80: }
                                    494 ;	genEndFunction
      000175 60               [ 6]  495 	rts
                                    496 ;	Raw cost for generated ic 125 : (1, 6.000000) count=0.991211
                                    497 	.area CODE
                                    498 	.area RODATA
                                    499 	.area XINIT
                                    500 	.area CABS    (ABS)
