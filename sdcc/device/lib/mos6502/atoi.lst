                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.10 #15691 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module atoi
                                      6 	
                                      7 	.optsdcc -mmos6502
                                      8 
                                      9 ;--------------------------------------------------------
                                     10 ;  Ordering of segments for the linker.
                                     11 ;--------------------------------------------------------
                                     12 	.area ZP      (PAG)
                                     13 	.area OSEG    (PAG, OVR)
                                     14 	.area _CODE
                                     15 	.area GSINIT
                                     16 	.area GSFINAL
                                     17 	.area CODE
                                     18 	.area RODATA
                                     19 	.area XINIT
                                     20 	.area _DATA
                                     21 	.area DATA
                                     22 	.area BSS
                                     23 ;--------------------------------------------------------
                                     24 ; Public variables in this module
                                     25 ;--------------------------------------------------------
                                     26 	.globl _atoi
                                     27 ;--------------------------------------------------------
                                     28 ; ZP ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area ZP      (PAG)
      000000                         31 _atoi_sloc0_1_0:
      000000                         32 	.ds 2
      000002                         33 _atoi_sloc1_1_0:
      000002                         34 	.ds 2
                                     35 ;--------------------------------------------------------
                                     36 ; overlayable items in ram
                                     37 ;--------------------------------------------------------
                                     38 ;--------------------------------------------------------
                                     39 ; uninitialized external ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area BSS
      000000                         42 _atoi_ret_10000_63:
      000000                         43 	.ds 2
      000002                         44 _atoi_neg_10000_63:
      000002                         45 	.ds 1
                                     46 ;--------------------------------------------------------
                                     47 ; absolute external ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area DABS    (ABS)
                                     50 ;--------------------------------------------------------
                                     51 ; initialized external ram data
                                     52 ;--------------------------------------------------------
                                     53 	.area DATA
                                     54 ;--------------------------------------------------------
                                     55 ; global & static initialisations
                                     56 ;--------------------------------------------------------
                                     57 	.area _CODE
                                     58 	.area GSINIT
                                     59 	.area GSFINAL
                                     60 	.area GSINIT
                                     61 ;--------------------------------------------------------
                                     62 ; Home
                                     63 ;--------------------------------------------------------
                                     64 	.area _CODE
                                     65 	.area _CODE
                                     66 ;--------------------------------------------------------
                                     67 ; code
                                     68 ;--------------------------------------------------------
                                     69 	.area CODE
                                     70 ;------------------------------------------------------------
                                     71 ;Allocation info for local variables in function 'atoi'
                                     72 ;------------------------------------------------------------
                                     73 ;sloc0         Allocated with name '_atoi_sloc0_1_0'
                                     74 ;sloc1         Allocated with name '_atoi_sloc1_1_0'
                                     75 ;nptr          Allocated to registers a x 
                                     76 ;__200000007   Allocated to registers 
                                     77 ;__200000004   Allocated to registers 
                                     78 ;ret           Allocated with name '_atoi_ret_10000_63'
                                     79 ;neg           Allocated with name '_atoi_neg_10000_63'
                                     80 ;__200000005   Allocated to registers 
                                     81 ;c             Allocated to registers 
                                     82 ;__200000008   Allocated to registers 
                                     83 ;c             Allocated to registers 
                                     84 ;------------------------------------------------------------
                                     85 ;	../atoi.c: 34: int atoi(const char *nptr)
                                     86 ;	genLabel
                                     87 ;	Raw cost for generated ic 0 : (0, 0.000000) count=1.000000
                                     88 ;	-----------------------------------------
                                     89 ;	 function atoi
                                     90 ;	-----------------------------------------
                                     91 ;	Register assignment is optimal.
                                     92 ;	Stack space usage: 0 bytes.
      000000                         93 _atoi:
                                     94 ;	Raw cost for generated ic 1 : (0, 0.000000) count=1.000000
                                     95 ;	genReceive
      000000 85*00            [ 3]   96 	sta	*_atoi_sloc0_1_0
      000002 86*01            [ 3]   97 	stx	*(_atoi_sloc0_1_0 + 1)
                                     98 ;	Raw cost for generated ic 2 : (4, 6.000000) count=1.000000
                                     99 ;	../atoi.c: 36: int ret = 0;
                                    100 ;	genAssign
                                    101 ;	genAssignLit
      000004 A0 00            [ 2]  102 	ldy	#0x00
      000006 8Cr00r00         [ 4]  103 	sty	_atoi_ret_10000_63
      000009 8Cr01r00         [ 4]  104 	sty	(_atoi_ret_10000_63 + 1)
                                    105 ;	Raw cost for generated ic 3 : (8, 10.000000) count=1.000000
                                    106 ;	../atoi.c: 39: while (isblank (*nptr))
                                    107 ;	genLabel
      00000C                        108 00101$:
                                    109 ;	Raw cost for generated ic 4 : (0, 0.000000) count=5.333324
                                    110 ;	genPointerGet
      00000C A0 00            [ 2]  111 	ldy	#0x00
      00000E B1*00            [ 6]  112 	lda	[*_atoi_sloc0_1_0],y
                                    113 ;	Raw cost for generated ic 6 : (4, 7.000000) count=5.333324
                                    114 ;	./../../include/ctype.h: 53: return ((unsigned char)c == ' ' || (unsigned char)c == '\t');
                                    115 ;	genCast
                                    116 ;	genCopy
                                    117 ;	Raw cost for generated ic 10 : (0, 0.000000) count=5.333324
                                    118 ;	genCmpEQorNE
      000010 C9 20            [ 2]  119 	cmp	#0x20
      000012 F0 04            [ 4]  120 	beq	00115$
                                    121 ;	Raw cost for generated ic 11 : (7, 7.600000) count=5.333324
                                    122 ;	skipping generated iCode
                                    123 ;	Raw cost for generated ic 12 : (0, 0.000000) count=5.333324
                                    124 ;	genCmpEQorNE
      000014 C9 09            [ 2]  125 	cmp	#0x09
      000016 D0 09            [ 4]  126 	bne	00131$
                                    127 ;	Raw cost for generated ic 14 : (7, 7.600000) count=3.999992
                                    128 ;	skipping generated iCode
                                    129 ;	Raw cost for generated ic 15 : (0, 0.000000) count=3.999992
                                    130 ;	genLabel
      000018                        131 00115$:
                                    132 ;	Raw cost for generated ic 19 : (0, 0.000000) count=4.333324
                                    133 ;	../atoi.c: 40: nptr++;
                                    134 ;	genPlus
                                    135 ;	  genPlusInc
      000018 E6*00            [ 5]  136 	inc	*_atoi_sloc0_1_0
      00001A D0 F0            [ 4]  137 	bne	00101$
      00001C E6*01            [ 5]  138 	inc	*(_atoi_sloc0_1_0 + 1)
                                    139 ;	Raw cost for generated ic 30 : (6, 12.600000) count=4.333324
                                    140 ;	genGoto
      00001E 4Cr0Cr00         [ 3]  141 	jmp	00101$
                                    142 ;	Raw cost for generated ic 32 : (3, 3.000000) count=4.333324
                                    143 ;	genLabel
      000021                        144 00131$:
                                    145 ;	Raw cost for generated ic 105 : (0, 0.000000) count=0.999997
                                    146 ;	genAssign
                                    147 ;	genCopy
      000021 A6*01            [ 3]  148 	ldx	*(_atoi_sloc0_1_0 + 1)
      000023 A5*00            [ 3]  149 	lda	*_atoi_sloc0_1_0
                                    150 ;	Raw cost for generated ic 106 : (4, 6.000000) count=0.999997
                                    151 ;	../atoi.c: 42: neg = (*nptr == '-');
                                    152 ;	genPointerGet
      000025 85*00            [ 3]  153 	sta	*(REGTEMP+0)
      000027 A0 00            [ 2]  154 	ldy	#0x00
      000029 B1*00            [ 6]  155 	lda	[*_atoi_sloc0_1_0],y
      00002B A8               [ 2]  156 	tay
      00002C A5*00            [ 3]  157 	lda	*(REGTEMP+0)
                                    158 ;	Raw cost for generated ic 35 : (9, 15.000000) count=0.999997
                                    159 ;	genCmpEQorNE
      00002E C0 2D            [ 2]  160 	cpy	#0x2d
      000030 85*00            [ 3]  161 	sta	*(REGTEMP+0)
      000032 F0 05            [ 4]  162 	beq	00179$
      000034 A9 00            [ 2]  163 	lda	#0x00
      000036 4Cr3Br00         [ 3]  164 	jmp	00178$
      000039                        165 00179$:
      000039 A9 01            [ 2]  166 	lda	#0x01
      00003B                        167 00178$:
      00003B 8Dr02r00         [ 4]  168 	sta	_atoi_neg_10000_63
      00003E A5*00            [ 3]  169 	lda	*(REGTEMP+0)
                                    170 ;	Raw cost for generated ic 36 : (18, 21.600000) count=0.999997
                                    171 ;	../atoi.c: 44: if (*nptr == '-' || *nptr == '+')
                                    172 ;	genCmpEQorNE
      000040 C0 2D            [ 2]  173 	cpy	#0x2d
      000042 F0 04            [ 4]  174 	beq	00104$
                                    175 ;	Raw cost for generated ic 40 : (7, 7.600000) count=0.999997
                                    176 ;	skipping generated iCode
                                    177 ;	Raw cost for generated ic 41 : (0, 0.000000) count=0.999997
                                    178 ;	genCmpEQorNE
      000044 C0 2B            [ 2]  179 	cpy	#0x2b
      000046 D0 06            [ 4]  180 	bne	00129$
                                    181 ;	Raw cost for generated ic 46 : (7, 7.600000) count=0.749996
                                    182 ;	skipping generated iCode
                                    183 ;	Raw cost for generated ic 47 : (0, 0.000000) count=0.749996
                                    184 ;	genLabel
      000048                        185 00104$:
                                    186 ;	Raw cost for generated ic 49 : (0, 0.000000) count=0.812496
                                    187 ;	../atoi.c: 45: nptr++;
                                    188 ;	genPlus
                                    189 ;	  genPlusInc
      000048 18               [ 2]  190 	clc
      000049 69 01            [ 2]  191 	adc	#0x01
      00004B 90 01            [ 4]  192 	bcc	00182$
      00004D E8               [ 2]  193 	inx
      00004E                        194 00182$:
                                    195 ;	Raw cost for generated ic 51 : (6, 8.600000) count=0.812496
                                    196 ;	../atoi.c: 47: while (isdigit (*nptr))
                                    197 ;	genLabel
      00004E                        198 00129$:
                                    199 ;	Raw cost for generated ic 103 : (0, 0.000000) count=0.999995
                                    200 ;	genAssign
                                    201 ;	genCopy
      00004E 85*00            [ 3]  202 	sta	*_atoi_sloc0_1_0
      000050 86*01            [ 3]  203 	stx	*(_atoi_sloc0_1_0 + 1)
                                    204 ;	Raw cost for generated ic 107 : (4, 6.000000) count=0.999995
                                    205 ;	genLabel
      000052                        206 00107$:
                                    207 ;	Raw cost for generated ic 54 : (0, 0.000000) count=2.285698
                                    208 ;	genPointerGet
      000052 A0 00            [ 2]  209 	ldy	#0x00
      000054 B1*00            [ 6]  210 	lda	[*_atoi_sloc0_1_0],y
                                    211 ;	Raw cost for generated ic 56 : (4, 7.000000) count=2.285698
                                    212 ;	./../../include/ctype.h: 62: return ((unsigned char)c >= '0' && (unsigned char)c <= '9');
                                    213 ;	genCast
                                    214 ;	genCopy
                                    215 ;	Raw cost for generated ic 60 : (0, 0.000000) count=2.285698
                                    216 ;	genCmp
      000056 C9 30            [ 2]  217 	cmp	#0x30
      000058 90 3E            [ 4]  218 	bcc	00109$
                                    219 ;	Raw cost for generated ic 61 : (7, 7.600000) count=2.285698
                                    220 ;	skipping generated iCode
                                    221 ;	Raw cost for generated ic 63 : (0, 0.000000) count=2.285698
                                    222 ;	genCmp
      00005A C9 39            [ 2]  223 	cmp	#0x39
      00005C F0 02            [ 4]  224 	beq	00184$
      00005E B0 38            [ 4]  225 	bcs	00109$
      000060                        226 00184$:
                                    227 ;	Raw cost for generated ic 65 : (9, 10.200000) count=1.714274
                                    228 ;	skipping generated iCode
                                    229 ;	Raw cost for generated ic 67 : (0, 0.000000) count=1.714274
                                    230 ;	../atoi.c: 48: ret = ret * 10 + (*(nptr++) - '0');
                                    231 ;	genAssign
                                    232 ;	genCopy
      000060 ADr01r00         [ 4]  233 	lda	(_atoi_ret_10000_63 + 1)
      000063 8Dr01r00         [ 4]  234 	sta	(__mulint_PARM_2 + 1)
      000066 ADr00r00         [ 4]  235 	lda	_atoi_ret_10000_63
      000069 8Dr00r00         [ 4]  236 	sta	__mulint_PARM_2
                                    237 ;	Raw cost for generated ic 117 : (12, 16.000000) count=1.285703
                                    238 ;	Raw cost for generated ic 116 : (0, 0.000000) count=1.285703
                                    239 ;	genCall
                                    240 ;	genSend
      00006C A2 00            [ 2]  241 	ldx	#0x00
      00006E A9 0A            [ 2]  242 	lda	#0x0a
      000070 20r00r00         [ 6]  243 	jsr	__mulint
                                    244 ;	assignResultValue
      000073 85*02            [ 3]  245 	sta	*_atoi_sloc1_1_0
      000075 86*03            [ 3]  246 	stx	*(_atoi_sloc1_1_0 + 1)
                                    247 ;	Raw cost for generated ic 118 : (11, 16.000000) count=1.285703
                                    248 ;	genPointerGet
      000077 A0 00            [ 2]  249 	ldy	#0x00
      000079 B1*00            [ 6]  250 	lda	[*_atoi_sloc0_1_0],y
                                    251 ;	Raw cost for generated ic 85 : (4, 7.000000) count=1.285703
                                    252 ;	genPlus
                                    253 ;	  genPlusInc
      00007B E6*00            [ 5]  254 	inc	*_atoi_sloc0_1_0
      00007D D0 02            [ 4]  255 	bne	00186$
      00007F E6*01            [ 5]  256 	inc	*(_atoi_sloc0_1_0 + 1)
      000081                        257 00186$:
                                    258 ;	Raw cost for generated ic 83 : (6, 12.600000) count=1.285703
                                    259 ;	genCast
                                    260 ;	genCopy
      000081 A2 00            [ 2]  261 	ldx	#0x00
                                    262 ;	Raw cost for generated ic 86 : (2, 2.000000) count=1.285703
                                    263 ;	genMinus
                                    264 ;	  genMinusDec - size=2  icount=48
      000083 38               [ 2]  265 	sec
      000084 E9 30            [ 2]  266 	sbc	#0x30
      000086 B0 01            [ 4]  267 	bcs	00187$
      000088 CA               [ 2]  268 	dex
      000089                        269 00187$:
                                    270 ;	Raw cost for generated ic 87 : (6, 8.600000) count=1.285703
                                    271 ;	genPlus
      000089 18               [ 2]  272 	clc
      00008A 65*02            [ 3]  273 	adc	*_atoi_sloc1_1_0
      00008C 8Dr00r00         [ 4]  274 	sta	_atoi_ret_10000_63
      00008F 8A               [ 2]  275 	txa
      000090 65*03            [ 3]  276 	adc	*(_atoi_sloc1_1_0 + 1)
      000092 8Dr01r00         [ 4]  277 	sta	(_atoi_ret_10000_63 + 1)
                                    278 ;	Raw cost for generated ic 88 : (12, 18.000000) count=1.285703
                                    279 ;	genGoto
      000095 4Cr52r00         [ 3]  280 	jmp	00107$
                                    281 ;	Raw cost for generated ic 90 : (3, 3.000000) count=1.285703
                                    282 ;	genLabel
      000098                        283 00109$:
                                    284 ;	Raw cost for generated ic 91 : (0, 0.000000) count=0.999991
                                    285 ;	../atoi.c: 50: return (neg ? -ret : ret); // Since -INT_MIN is INT_MIN in sdcc, the result value always turns out ok.
                                    286 ;	genIfx
      000098 ADr02r00         [ 4]  287 	lda	_atoi_neg_10000_63
                                    288 ;	genIfxJump : z
      00009B F0 0F            [ 4]  289 	beq	00120$
                                    290 ;	Raw cost for generated ic 92 : (8, 9.600000) count=0.999991
                                    291 ;	genUminus
      00009D A9 00            [ 2]  292 	lda	#0x00
      00009F 38               [ 2]  293 	sec
      0000A0 EDr00r00         [ 4]  294 	sbc	_atoi_ret_10000_63
      0000A3 48               [ 3]  295 	pha
      0000A4 A9 00            [ 2]  296 	lda	#0x00
      0000A6 EDr01r00         [ 4]  297 	sbc	(_atoi_ret_10000_63 + 1)
      0000A9 AA               [ 2]  298 	tax
      0000AA 68               [ 4]  299 	pla
                                    300 ;	Raw cost for generated ic 93 : (14, 23.000000) count=0.749993
                                    301 ;	genGoto
      0000AB 60               [ 6]  302 	rts
                                    303 ;	Raw cost for generated ic 95 : (3, 3.000000) count=0.749993
                                    304 ;	genLabel
      0000AC                        305 00120$:
                                    306 ;	Raw cost for generated ic 96 : (0, 0.000000) count=0.249996
                                    307 ;	genAssign
                                    308 ;	genCopy
      0000AC AEr01r00         [ 4]  309 	ldx	(_atoi_ret_10000_63 + 1)
      0000AF ADr00r00         [ 4]  310 	lda	_atoi_ret_10000_63
                                    311 ;	Raw cost for generated ic 97 : (6, 8.000000) count=0.249996
                                    312 ;	genLabel
                                    313 ;	Raw cost for generated ic 98 : (0, 0.000000) count=0.999989
                                    314 ;	genRet
                                    315 ;	Raw cost for generated ic 99 : (0, 0.000000) count=0.999989
                                    316 ;	genLabel
                                    317 ;	Raw cost for generated ic 100 : (0, 0.000000) count=0.999989
                                    318 ;	../atoi.c: 51: }
                                    319 ;	genEndFunction
      0000B2 60               [ 6]  320 	rts
                                    321 ;	Raw cost for generated ic 101 : (1, 6.000000) count=0.999989
                                    322 	.area CODE
                                    323 	.area RODATA
                                    324 	.area XINIT
                                    325 	.area CABS    (ABS)
